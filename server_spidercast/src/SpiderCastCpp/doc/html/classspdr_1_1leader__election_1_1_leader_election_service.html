<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SpiderCast C++: spdr::leader_election::LeaderElectionService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SpiderCast C++
   &#160;<span id="projectnumber">0.3.2</span>
   </div>
   <div id="projectbrief">Scalable Membership and Group Communication Services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacespdr.html">spdr</a></li><li class="navelem"><a class="el" href="namespacespdr_1_1leader__election.html">leader_election</a></li><li class="navelem"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html">LeaderElectionService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classspdr_1_1leader__election_1_1_leader_election_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">spdr::leader_election::LeaderElectionService Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A service that allows a group of nodes to elect a leader.  
 <a href="classspdr_1_1leader__election_1_1_leader_election_service.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_leader_election_service_8h_source.html">LeaderElectionService.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7ad6ef84ef2fef4fa5ef84082534bcef"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#a7ad6ef84ef2fef4fa5ef84082534bcef">~LeaderElectionService</a> ()</td></tr>
<tr class="separator:a7ad6ef84ef2fef4fa5ef84082534bcef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5fd22678cf825d8241c5c94600ecd5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacespdr.html#acfb3849e5f7b7ffbc63e4ef2cb11a9f6">NodeID_SPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#abc5fd22678cf825d8241c5c94600ecd5">getLeader</a> () const =0</td></tr>
<tr class="memdesc:abc5fd22678cf825d8241c5c94600ecd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current leader.  <a href="#abc5fd22678cf825d8241c5c94600ecd5"></a><br/></td></tr>
<tr class="separator:abc5fd22678cf825d8241c5c94600ecd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c7dfa9b5043cfe8079653204ab891a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#ad3c7dfa9b5043cfe8079653204ab891a">isLeader</a> () const =0</td></tr>
<tr class="memdesc:ad3c7dfa9b5043cfe8079653204ab891a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the local node the leader.  <a href="#ad3c7dfa9b5043cfe8079653204ab891a"></a><br/></td></tr>
<tr class="separator:ad3c7dfa9b5043cfe8079653204ab891a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f03497ce9ae49312ea107bc4d1864e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#aa3f03497ce9ae49312ea107bc4d1864e">isCandidate</a> () const =0</td></tr>
<tr class="memdesc:aa3f03497ce9ae49312ea107bc4d1864e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the local node a candidate.  <a href="#aa3f03497ce9ae49312ea107bc4d1864e"></a><br/></td></tr>
<tr class="separator:aa3f03497ce9ae49312ea107bc4d1864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667ee87a0a02a6ec82326665d819e1f8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#a667ee87a0a02a6ec82326665d819e1f8">close</a> ()=0</td></tr>
<tr class="memdesc:a667ee87a0a02a6ec82326665d819e1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the service.  <a href="#a667ee87a0a02a6ec82326665d819e1f8"></a><br/></td></tr>
<tr class="separator:a667ee87a0a02a6ec82326665d819e1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72993f88f95fb72811aae28c204e826"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#ac72993f88f95fb72811aae28c204e826">isClosed</a> () const =0</td></tr>
<tr class="separator:ac72993f88f95fb72811aae28c204e826"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0cc3acf72570a6d09157feb629c626ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#a0cc3acf72570a6d09157feb629c626ac">LeaderElectionService</a> ()</td></tr>
<tr class="separator:a0cc3acf72570a6d09157feb629c626ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A service that allows a group of nodes to elect a leader. </p>
<p>When this service is created, the node joins the leader election process as either a candidate or an observer. A candidate may be elected leader, an observer only observes the results of the elections.</p>
<p>The service is created using the factory method <a class="el" href="classspdr_1_1_spider_cast.html#a7152f537afa76cf4e540403d2dc4bf5b" title="Create the leader election service.">SpiderCast::createLeaderElectionService()</a>. Only a single instance of the service can be created per <a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> node.</p>
<p>The results of the elections are notified via the <a class="el" href="classspdr_1_1leader__election_1_1_leader_election_listener.html#ae29e37727fe4fa33f672af3c2bbedc87" title="Delivers the identity of a new leader, or NULL in case there is no leader.">LeaderElectionListener::onLeaderChange()</a> interface, or can be polled using the <a class="el" href="classspdr_1_1leader__election_1_1_leader_election_service.html#abc5fd22678cf825d8241c5c94600ecd5" title="Get the current leader.">getLeader()</a> method. The results of an election are a (shared pointer to) <a class="el" href="classspdr_1_1_node_i_d.html" title="Node ID carries the node&#39;s name (String) and NetworkEndpoints.">NodeID</a>, or NULL when there is no leader.</p>
<p>The leader election process is based on every candidate maintaining a view of all other candidates. The candidate with the lowest <a class="el" href="classspdr_1_1_node_i_d.html" title="Node ID carries the node&#39;s name (String) and NetworkEndpoints.">NodeID</a> proposes itself as leader in case no leader exists. If more then one node proposes itself as leader, the nodes with higher NodeIDs will back-off. The leader election process is eventually consistent (sa the candidate view). That is, on rare occasions there may be transient periods with more than one leader proposing itself, and different nodes may transiently see different leaders. However, after the view stabilizes, it is guaranteed that all nodes see the same leader.</p>
<p>In order to change from candidate mode to observer mode or vice-versa, the service needs to be closed and reopened in the respective mode.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classspdr_1_1leader__election_1_1_leader_election_listener.html" title="A call back interface for leader election results.">LeaderElectionListener</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7ad6ef84ef2fef4fa5ef84082534bcef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual spdr::leader_election::LeaderElectionService::~LeaderElectionService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0cc3acf72570a6d09157feb629c626ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">spdr::leader_election::LeaderElectionService::LeaderElectionService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a667ee87a0a02a6ec82326665d819e1f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void spdr::leader_election::LeaderElectionService::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the service. </p>
<p>When a node closes the service it will no longer be a candidate leader, nor observe election results. If the node was a leader, it will relinquish its leadership and the remaining candidates will elect a new leader. </p>

</div>
</div>
<a class="anchor" id="abc5fd22678cf825d8241c5c94600ecd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacespdr.html#acfb3849e5f7b7ffbc63e4ef2cb11a9f6">NodeID_SPtr</a> spdr::leader_election::LeaderElectionService::getLeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current leader. </p>
<p>If there is no leader, will return NULL.</p>
<dl class="section return"><dt>Returns</dt><dd>the current leader or NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="aa3f03497ce9ae49312ea107bc4d1864e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::leader_election::LeaderElectionService::isCandidate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the local node a candidate. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the local node is a candidate in the elections. </dd></dl>

</div>
</div>
<a class="anchor" id="ac72993f88f95fb72811aae28c204e826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::leader_election::LeaderElectionService::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad3c7dfa9b5043cfe8079653204ab891a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::leader_election::LeaderElectionService::isLeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the local node the leader. </p>
<p>This is always false if the local node is an observer (not a candidate).</p>
<dl class="section return"><dt>Returns</dt><dd>true if the local node is the leader. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/workspace/SpiderCastCpp/SpiderCastCpp/API/include/<a class="el" href="_leader_election_service_8h_source.html">LeaderElectionService.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 30 2012 15:33:39 for SpiderCast C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
