<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SpiderCast C++: spdr::dht::DHTService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SpiderCast C++
   &#160;<span id="projectnumber">0.3.2</span>
   </div>
   <div id="projectbrief">Scalable Membership and Group Communication Services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacespdr.html">spdr</a></li><li class="navelem"><a class="el" href="namespacespdr_1_1dht.html">dht</a></li><li class="navelem"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html">DHTService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classspdr_1_1dht_1_1_d_h_t_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">spdr::dht::DHTService Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The DHT service interface provides an access point to the DHT API.  
 <a href="classspdr_1_1dht_1_1_d_h_t_service.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_d_h_t_service_8h_source.html">DHTService.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8aa4571bca1736691f9f2774ec3dbe27"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27">RequestType</a> { <br/>
&#160;&#160;<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27acd229871dbba916326661fba4ad53897">ReqType_put</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27a197b637c10d68348b5d261edb3c3232c">ReqType_get</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27a64e5e1c913f8f49d5056d210ba547719">ReqType_contains</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27ab96362ffde23587887b4017c3bc135c5">ReqType_remove</a>, 
<br/>
&#160;&#160;<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27a030466d404e60e5273d617238fae95c1">ReqType_putIfAbsent</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27a1a74470d8f6ad79155f1f7293d45f3f3">ReqType_replace</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27aa8db9dc11ea454db0839ddec474e7f05">ReqType_replaceTest</a>, 
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27a7038d4e12331e1fb6000b3d4dab5c2bf">ReqType_removeTest</a>
<br/>
 }</td></tr>
<tr class="separator:a8aa4571bca1736691f9f2774ec3dbe27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a86bb3e302f24b0abb0391059104701b7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a86bb3e302f24b0abb0391059104701b7">~DHTService</a> ()=0</td></tr>
<tr class="separator:a86bb3e302f24b0abb0391059104701b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab586e4acfa47cd2c90c29b53c71b503"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#aab586e4acfa47cd2c90c29b53c71b503">close</a> ()=0</td></tr>
<tr class="memdesc:aab586e4acfa47cd2c90c29b53c71b503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the service.  <a href="#aab586e4acfa47cd2c90c29b53c71b503"></a><br/></td></tr>
<tr class="separator:aab586e4acfa47cd2c90c29b53c71b503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5d290a804fa8f69c4bebca61346a3c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a1e5d290a804fa8f69c4bebca61346a3c">isClosed</a> ()=0</td></tr>
<tr class="memdesc:a1e5d290a804fa8f69c4bebca61346a3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the service closed?  <a href="#a1e5d290a804fa8f69c4bebca61346a3c"></a><br/></td></tr>
<tr class="separator:a1e5d290a804fa8f69c4bebca61346a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347079949523450eb652eb50ac46d4c4"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a347079949523450eb652eb50ac46d4c4">put</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> inValue)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a347079949523450eb652eb50ac46d4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert or replace a key-value pair.  <a href="#a347079949523450eb652eb50ac46d4c4"></a><br/></td></tr>
<tr class="separator:a347079949523450eb652eb50ac46d4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02bab4234a458a18b439f9ddb66a4001"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a02bab4234a458a18b439f9ddb66a4001">get</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a02bab4234a458a18b439f9ddb66a4001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a key-value pair.  <a href="#a02bab4234a458a18b439f9ddb66a4001"></a><br/></td></tr>
<tr class="separator:a02bab4234a458a18b439f9ddb66a4001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3548dc44af5cfb84ff4f00c62c801daf"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a3548dc44af5cfb84ff4f00c62c801daf">contains</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a3548dc44af5cfb84ff4f00c62c801daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the DHT contains a key-value pair.  <a href="#a3548dc44af5cfb84ff4f00c62c801daf"></a><br/></td></tr>
<tr class="separator:a3548dc44af5cfb84ff4f00c62c801daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e91455bf94569745c94265330afd298"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a5e91455bf94569745c94265330afd298">remove</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a5e91455bf94569745c94265330afd298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a key-value pair.  <a href="#a5e91455bf94569745c94265330afd298"></a><br/></td></tr>
<tr class="separator:a5e91455bf94569745c94265330afd298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbdc36b2a3acff100c013586c859a146"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#acbdc36b2a3acff100c013586c859a146">putIfAbsent</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> inValue)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:acbdc36b2a3acff100c013586c859a146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the key-value pair only if the key is absent.  <a href="#acbdc36b2a3acff100c013586c859a146"></a><br/></td></tr>
<tr class="separator:acbdc36b2a3acff100c013586c859a146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8533d161b673e4135930e3a19240d51a"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8533d161b673e4135930e3a19240d51a">replace</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> inValue)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a8533d161b673e4135930e3a19240d51a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a keys value with a new value only if a value exists.  <a href="#a8533d161b673e4135930e3a19240d51a"></a><br/></td></tr>
<tr class="separator:a8533d161b673e4135930e3a19240d51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa1d9686e2f3c392720d9e4fce909c8"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#acfa1d9686e2f3c392720d9e4fce909c8">replaceTest</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> inValue, const <a class="el" href="classspdr_1_1dht_1_1_d_h_t_version.html">DHTVersion</a> &amp;testVersion)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:acfa1d9686e2f3c392720d9e4fce909c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a keys value with a new value only if the current version in the table equals the test version.  <a href="#acfa1d9686e2f3c392720d9e4fce909c8"></a><br/></td></tr>
<tr class="separator:acfa1d9686e2f3c392720d9e4fce909c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc37c7f108ddcce5d797144d9dac7ae"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#aabc37c7f108ddcce5d797144d9dac7ae">removeTest</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, const <a class="el" href="classspdr_1_1dht_1_1_d_h_t_version.html">DHTVersion</a> &amp;testVersion)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:aabc37c7f108ddcce5d797144d9dac7ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a key-value pair, only if the key is currently mapped to a value with the given test version.  <a href="#aabc37c7f108ddcce5d797144d9dac7ae"></a><br/></td></tr>
<tr class="separator:aabc37c7f108ddcce5d797144d9dac7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aff817cab5596f64b6ce58db8012fc479"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#aff817cab5596f64b6ce58db8012fc479">reqTypeName</a> []</td></tr>
<tr class="separator:aff817cab5596f64b6ce58db8012fc479"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2ca87c1837fe50d0aea3b75ea652bdb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a2ca87c1837fe50d0aea3b75ea652bdb6">DHTService</a> ()</td></tr>
<tr class="separator:a2ca87c1837fe50d0aea3b75ea652bdb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The DHT service interface provides an access point to the DHT API. </p>
<p>The DHT service provides an access point to the DHT proxy, which implements the DHT API. The DHT service is created from the <a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> instance. Only a single DHT service can be created on a <a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> instance.</p>
<p>The DHT service provides an asynchronous API, as most requests are forwarded to a remote server. In case of success the reply is given to the application by a call to </p>
<p><a class="el" href="classspdr_1_1dht_1_1_d_h_t_service_listener.html#a4b97749f6208f6929184c7c61eea07fe" title="On request successful completion.">DHTServiceListener.onSuccess</a>( bool flag, const <a class="el" href="classspdr_1_1_mutable_shared_buffer.html">MutableSharedBuffer</a>&amp; value, const <a class="el" href="classspdr_1_1dht_1_1_d_h_t_version.html" title="Represents the version of a key-value pair in the table.">DHTVersion</a>&amp; version, int64_t reqID, <a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27">DHTService::RequestType</a> reqType); </p>
<p>In case of failure the reply is given to the application by a call to <a class="el" href="classspdr_1_1dht_1_1_d_h_t_service_listener.html#a021157e1c602c8d3f057f82493b04501" title="On request failure completion.">DHTServiceListener.onFailure</a>( <a class="el" href="namespacespdr_1_1event.html#a0d359eef2397e7de401e3dd19efba67f" title="Error code.">event::ErrorCode</a> errorCode, const String&amp; message, int64_t reqID <a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27">DHTService::RequestType</a> reqType); </p>
<p>The parameter's meaning changes according to the type of request. The request ID is returned by the request, and request type corresponds to the method name invoked.</p>
<p>The asynchronous requests get unique, monotonically increasing request-IDs, but these do not reflect the order of execution in the DHT. First, requests to different keys may be handled by different servers. Second, even requests to the same key by the same thread may be handled at an arbitrary order. If an order between requests A and B is desired, then request B should be submitted after request A completes, and possibly using the conditional request forms.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> </dd>
<dd>
<a class="el" href="classspdr_1_1dht_1_1_d_h_t_service_listener.html">DHTServiceListener</a> </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html#a8aa4571bca1736691f9f2774ec3dbe27">spdr::dht::DHTService::RequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27acd229871dbba916326661fba4ad53897"></a>ReqType_put</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27a197b637c10d68348b5d261edb3c3232c"></a>ReqType_get</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27a64e5e1c913f8f49d5056d210ba547719"></a>ReqType_contains</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27ab96362ffde23587887b4017c3bc135c5"></a>ReqType_remove</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27a030466d404e60e5273d617238fae95c1"></a>ReqType_putIfAbsent</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27a1a74470d8f6ad79155f1f7293d45f3f3"></a>ReqType_replace</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27aa8db9dc11ea454db0839ddec474e7f05"></a>ReqType_replaceTest</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8aa4571bca1736691f9f2774ec3dbe27a7038d4e12331e1fb6000b3d4dab5c2bf"></a>ReqType_removeTest</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2ca87c1837fe50d0aea3b75ea652bdb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">spdr::dht::DHTService::DHTService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a86bb3e302f24b0abb0391059104701b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual spdr::dht::DHTService::~DHTService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aab586e4acfa47cd2c90c29b53c71b503"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void spdr::dht::DHTService::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the service. </p>
<p>Any pending request is dropped.</p>
<p>Once a DHT service is closed it cannot be restarted, a new instance of <a class="el" href="classspdr_1_1dht_1_1_d_h_t_service.html" title="The DHT service interface provides an access point to the DHT API.">DHTService</a> must be created. </p>

</div>
</div>
<a class="anchor" id="a3548dc44af5cfb84ff4f00c62c801daf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::contains </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test if the DHT contains a key-value pair. </p>
<p>On success the reply contains: flag - true if exists, false if missing; value - null; version - version of requested value (if it exists);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key is ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a02bab4234a458a18b439f9ddb66a4001"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a key-value pair. </p>
<p>On success the reply contains: flag - true if exists, false if missing; value - requested value; version - version of requested value (if it exists);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key is ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1e5d290a804fa8f69c4bebca61346a3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::dht::DHTService::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the service closed? </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a347079949523450eb652eb50ac46d4c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::put </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td>
          <td class="paramname"><em>inValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert or replace a key-value pair. </p>
<p>On success the reply contains: flag - true if replaced, false if inserted as new; value - null; version - version of written value;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">inValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key or value are ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acbdc36b2a3acff100c013586c859a146"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::putIfAbsent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td>
          <td class="paramname"><em>inValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put the key-value pair only if the key is absent. </p>
<p>On success the reply contains: flag - true if inserted, false if already existed; value - null; version - version of value in the map. If inserted - new version, if not - existing version.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">inValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key is ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e91455bf94569745c94265330afd298"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::remove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a key-value pair. </p>
<p>On success the reply contains: flag - true if removed, false if missing; value - null; version - version of removed value (if it existed);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID </dd></dl>

</div>
</div>
<a class="anchor" id="aabc37c7f108ddcce5d797144d9dac7ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::removeTest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspdr_1_1dht_1_1_d_h_t_version.html">DHTVersion</a> &amp;&#160;</td>
          <td class="paramname"><em>testVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a key-value pair, only if the key is currently mapped to a value with the given test version. </p>
<p>On success the reply contains: flag - true if removed, false if test failed; value - null; version - version of value in the map. If removed - none.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">testVersion</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key or version are ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8533d161b673e4135930e3a19240d51a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::replace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td>
          <td class="paramname"><em>inValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace a keys value with a new value only if a value exists. </p>
<p>On success the reply contains: flag - true if replaced, false if missing; value - null; version - version of value in the map. If replaced - new version, if not - undefined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">inValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key or value are ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acfa1d9686e2f3c392720d9e4fce909c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::dht::DHTService::replaceTest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td>
          <td class="paramname"><em>inValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspdr_1_1dht_1_1_d_h_t_version.html">DHTVersion</a> &amp;&#160;</td>
          <td class="paramname"><em>testVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace a keys value with a new value only if the current version in the table equals the test version. </p>
<p>On success the reply contains: flag - true if replaced, false if test failed; value - null; version - version of value in the map. If replaced - new version, if not - existing version.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">inValue</td><td></td></tr>
    <tr><td class="paramname">testVersion</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request ID</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_logic_error.html" title="Super-class of all SpiderCast logic errors type exceptions.">SpiderCastLogicError</a></td><td>if the key, value, or version are ill-formed </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_spider_cast_runtime_error.html" title="Super-class of all SpiderCast runtime error type exceptions.">SpiderCastRuntimeError</a></td><td>if the request fails due to unexpected reason </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aff817cab5596f64b6ce58db8012fc479"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> spdr::dht::DHTService::reqTypeName[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/workspace/SpiderCastCpp/SpiderCastCpp/API/include/<a class="el" href="_d_h_t_service_8h_source.html">DHTService.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 30 2012 15:33:38 for SpiderCast C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
