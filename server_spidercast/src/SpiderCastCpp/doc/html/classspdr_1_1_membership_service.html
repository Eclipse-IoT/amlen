<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SpiderCast C++: spdr::MembershipService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SpiderCast C++
   &#160;<span id="projectnumber">0.3.2</span>
   </div>
   <div id="projectbrief">Scalable Membership and Group Communication Services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacespdr.html">spdr</a></li><li class="navelem"><a class="el" href="classspdr_1_1_membership_service.html">MembershipService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classspdr_1_1_membership_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">spdr::MembershipService Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface providing access to the membership service.  
 <a href="classspdr_1_1_membership_service.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_membership_service_8h_source.html">MembershipService.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c12a4a0eeffb6dcac6ac0abf4a193f1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a1c12a4a0eeffb6dcac6ac0abf4a193f1">~MembershipService</a> ()</td></tr>
<tr class="separator:a1c12a4a0eeffb6dcac6ac0abf4a193f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c09bb316330746a238fb12672a8764"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#ae6c09bb316330746a238fb12672a8764">close</a> ()=0</td></tr>
<tr class="memdesc:ae6c09bb316330746a238fb12672a8764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the service.  <a href="#ae6c09bb316330746a238fb12672a8764"></a><br/></td></tr>
<tr class="separator:ae6c09bb316330746a238fb12672a8764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af84f8dcb10389a2e4e2f4aaa71fac0"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a1af84f8dcb10389a2e4e2f4aaa71fac0">isClosed</a> ()=0</td></tr>
<tr class="memdesc:a1af84f8dcb10389a2e4e2f4aaa71fac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the service closed?  <a href="#a1af84f8dcb10389a2e4e2f4aaa71fac0"></a><br/></td></tr>
<tr class="separator:a1af84f8dcb10389a2e4e2f4aaa71fac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c67bc10775fedd0b61eadbfd36ecd5e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a4c67bc10775fedd0b61eadbfd36ecd5e">setHighPriorityMonitor</a> (bool value)=0</td></tr>
<tr class="memdesc:a4c67bc10775fedd0b61eadbfd36ecd5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark/unmark this node as a high priority monitor.  <a href="#a4c67bc10775fedd0b61eadbfd36ecd5e"></a><br/></td></tr>
<tr class="separator:a4c67bc10775fedd0b61eadbfd36ecd5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00cde6af72e64db76df41efa6194921c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a00cde6af72e64db76df41efa6194921c">isHighPriorityMonitor</a> ()=0</td></tr>
<tr class="memdesc:a00cde6af72e64db76df41efa6194921c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this node is a high priority monitor.  <a href="#a00cde6af72e64db76df41efa6194921c"></a><br/></td></tr>
<tr class="separator:a00cde6af72e64db76df41efa6194921c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19797f4d3b1a0db24d72e0d98c852465"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a19797f4d3b1a0db24d72e0d98c852465">setAttribute</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key, <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> value)=0</td></tr>
<tr class="memdesc:a19797f4d3b1a0db24d72e0d98c852465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set (and overwrite) a key-value pair.  <a href="#a19797f4d3b1a0db24d72e0d98c852465"></a><br/></td></tr>
<tr class="separator:a19797f4d3b1a0db24d72e0d98c852465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ca5a96fffb4a9f72e47a08db852006"><td class="memItemLeft" align="right" valign="top">virtual std::pair<br class="typebreak"/>
&lt; <a class="el" href="classspdr_1_1event_1_1_attribute_value.html">event::AttributeValue</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a76ca5a96fffb4a9f72e47a08db852006">getAttribute</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0</td></tr>
<tr class="memdesc:a76ca5a96fffb4a9f72e47a08db852006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value mapped to a key.  <a href="#a76ca5a96fffb4a9f72e47a08db852006"></a><br/></td></tr>
<tr class="separator:a76ca5a96fffb4a9f72e47a08db852006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e079745e8adbc409d9d886696492135"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a6e079745e8adbc409d9d886696492135">removeAttribute</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0</td></tr>
<tr class="memdesc:a6e079745e8adbc409d9d886696492135"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a key-value pair.  <a href="#a6e079745e8adbc409d9d886696492135"></a><br/></td></tr>
<tr class="separator:a6e079745e8adbc409d9d886696492135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501b6a6eb16aa14714585513643486db"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a501b6a6eb16aa14714585513643486db">containsAttribute</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;key)=0</td></tr>
<tr class="memdesc:a501b6a6eb16aa14714585513643486db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a key?  <a href="#a501b6a6eb16aa14714585513643486db"></a><br/></td></tr>
<tr class="separator:a501b6a6eb16aa14714585513643486db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d92aac802ea34f9560fb0dfcc5f95eb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a3d92aac802ea34f9560fb0dfcc5f95eb">clearAttributeMap</a> ()=0</td></tr>
<tr class="memdesc:a3d92aac802ea34f9560fb0dfcc5f95eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all key-value attributes.  <a href="#a3d92aac802ea34f9560fb0dfcc5f95eb"></a><br/></td></tr>
<tr class="separator:a3d92aac802ea34f9560fb0dfcc5f95eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40c12f940293c1c23433ed3b083135f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#ac40c12f940293c1c23433ed3b083135f">isEmptyAttributeMap</a> ()=0</td></tr>
<tr class="memdesc:ac40c12f940293c1c23433ed3b083135f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the attribute map empty?  <a href="#ac40c12f940293c1c23433ed3b083135f"></a><br/></td></tr>
<tr class="separator:ac40c12f940293c1c23433ed3b083135f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5bb25db4b41986cf8b176ee11a83091"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#ac5bb25db4b41986cf8b176ee11a83091">sizeOfAttributeMap</a> ()=0</td></tr>
<tr class="memdesc:ac5bb25db4b41986cf8b176ee11a83091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of attribute map.  <a href="#ac5bb25db4b41986cf8b176ee11a83091"></a><br/></td></tr>
<tr class="separator:ac5bb25db4b41986cf8b176ee11a83091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acb5dcd58904b17cb45f7f12ea8a4fa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacespdr.html#a1238e66ef60f6ab18999d50dbc3a1284">StringSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a8acb5dcd58904b17cb45f7f12ea8a4fa">getAttributeKeySet</a> ()=0</td></tr>
<tr class="memdesc:a8acb5dcd58904b17cb45f7f12ea8a4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the attribute key-set.  <a href="#a8acb5dcd58904b17cb45f7f12ea8a4fa"></a><br/></td></tr>
<tr class="separator:a8acb5dcd58904b17cb45f7f12ea8a4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1805daa47e95717dedf11acffe9d03fb"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a1805daa47e95717dedf11acffe9d03fb">getForeignZoneMembership</a> (const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;zoneBusName, bool includeAttributes)=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a1805daa47e95717dedf11acffe9d03fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the membership view of a single base-zone.  <a href="#a1805daa47e95717dedf11acffe9d03fb"></a><br/></td></tr>
<tr class="separator:a1805daa47e95717dedf11acffe9d03fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1729a5523ff30389b3a8093ae17157fe"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a1729a5523ff30389b3a8093ae17157fe">getZoneCensus</a> ()=0  throw (SpiderCastLogicError, SpiderCastRuntimeError)</td></tr>
<tr class="memdesc:a1729a5523ff30389b3a8093ae17157fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the zone census.  <a href="#a1729a5523ff30389b3a8093ae17157fe"></a><br/></td></tr>
<tr class="separator:a1729a5523ff30389b3a8093ae17157fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abcd780d783f504535b2183ec0a141adf"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#abcd780d783f504535b2183ec0a141adf">EmptyAttributeValue</a></td></tr>
<tr class="memdesc:abcd780d783f504535b2183ec0a141adf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A constant representing an empty attribute value.  <a href="#abcd780d783f504535b2183ec0a141adf"></a><br/></td></tr>
<tr class="separator:abcd780d783f504535b2183ec0a141adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a334a15ca4185bab2bb75de8fdf6c3267"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspdr_1_1_membership_service.html#a334a15ca4185bab2bb75de8fdf6c3267">MembershipService</a> ()</td></tr>
<tr class="separator:a334a15ca4185bab2bb75de8fdf6c3267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An interface providing access to the membership service. </p>
<p>This membership service allows the user to receive membership events and to set its own attributes.</p>
<p>An implementation of the <a class="el" href="classspdr_1_1_membership_service.html" title="An interface providing access to the membership service.">MembershipService</a> interface is created using the <a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> instance, by calling SpiderCast::createMemebershipService(). Only a single instance of the <a class="el" href="classspdr_1_1_membership_service.html" title="An interface providing access to the membership service.">MembershipService</a> can be created from an instance of <a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a>.</p>
<p><b>Node Membership</b></p>
<p>The membership service allows a user to compile a view of the live nodes in the overlay, and to detect the failure or departure of nodes. The <a class="el" href="classspdr_1_1_membership_service.html" title="An interface providing access to the membership service.">MembershipService</a> works by notifying the application, via the <a class="el" href="classspdr_1_1_membership_listener.html" title="An interface for receiving membership events.">MembershipListener</a>, with membership events.</p>
<p>The first event after creation of the service is ViewChangeEvent. This event delivers the node membership at the current time, in the form of a map in which the keys are NodeIDs of live nodes and the values are the respective MetaData. This map is defined as the ViewMap.</p>
<p>Following the first view change event, the membership service proceeds to report view changes differentially, by delivering NodeJoinEvent, NodeLeaveEvent, and ChangeOfMetaDataEvent.</p>
<p><b>The Attribute Service</b></p>
<p>An attribute is a key-value pair, in which the key is a string and the value is a byte buffer. Each node has an attribute table, which can be written by it only. The attribute table of every node is replicated to all other nodes and delivered in membership events, as a field in the MetaData. Thus, every node can read the attribute map of every other node, but write only its own attribute map.</p>
<p>The keys must start with an alpha-numeric character. The keys are trimmed - leading and trailing whitespace is ignored.</p>
<p><b>Foreign Zone Membership</b></p>
<p>When hierarchy is enabled, supervisors in the management zone maintain the membership view of base-zones they are guarding. Supervisors disseminate the identity and node count of zones they are guarding to all other supervisors.</p>
<p>The API allows the user to get the zone-census, and query for the membership of any base-zone. The ZoneCensus includes the names of all zones, and their node counts. A query for the membership view of a foreign-zone will return a full member view of that zone.</p>
<p>A request for a foreign zone membership may be fulfilled by the current node sending a request to a remote node. Therefore, a request might time-out if a reply is not received in time. The value of the time-out is defined in the properties parameter when creating the <a class="el" href="classspdr_1_1_membership_service.html" title="An interface providing access to the membership service.">MembershipService</a>.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classspdr_1_1_spider_cast.html" title="SpiderCast represents a node in the overlay and creates membership and communication services...">SpiderCast</a> </dd>
<dd>
<a class="el" href="classspdr_1_1_node_i_d.html" title="Node ID carries the node&#39;s name (String) and NetworkEndpoints.">NodeID</a> </dd>
<dd>
MetaData </dd>
<dd>
ViewChangeEvent </dd>
<dd>
ViewMap </dd>
<dd>
NodeJoinEvent </dd>
<dd>
NodeLeaveEvent </dd>
<dd>
ChangeOfMetaDataEvent </dd>
<dd>
ZoneCensusEvent </dd>
<dd>
ForeignZoneMembershipEvent </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a334a15ca4185bab2bb75de8fdf6c3267"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">spdr::MembershipService::MembershipService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1c12a4a0eeffb6dcac6ac0abf4a193f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual spdr::MembershipService::~MembershipService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3d92aac802ea34f9560fb0dfcc5f95eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void spdr::MembershipService::clearAttributeMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear all key-value attributes. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6c09bb316330746a238fb12672a8764"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void spdr::MembershipService::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the service. </p>
<p>This closes the current instance of the membership service, stopping event notifications and disabling the ability to manipulate the attributes.</p>
<p>Note that this does NOT clear the attributes, nor does it mean leaving the overlay. The node's attribute table is still kept internally and replicated, and the node's presence in the overlay is maintained.</p>
<p>Once a membership service is closed it cannot be restarted, a new instance must be created. </p>

</div>
</div>
<a class="anchor" id="a501b6a6eb16aa14714585513643486db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::containsAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contains a key? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the map contains the key</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76ca5a96fffb4a9f72e47a08db852006"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::pair&lt;<a class="el" href="classspdr_1_1event_1_1_attribute_value.html">event::AttributeValue</a>,bool&gt; spdr::MembershipService::getAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value mapped to a key. </p>
<p>First member of the returned pair holds an AttributeValue, which holds a shared pointer to the internal immutable buffer, and the length. Do not write to the buffer or bad things will happen.</p>
<p>Second member holds an indication whether the key was found in the map. If the key was missing, the return value has zero length and NULL pointer.</p>
<p>Note that a zero length value is legal and means a key mapped to an empty value, the pointer is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair holding the value, and an indication whether it was found on the map.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>AttributeValue </dd></dl>

</div>
</div>
<a class="anchor" id="a8acb5dcd58904b17cb45f7f12ea8a4fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacespdr.html#a1238e66ef60f6ab18999d50dbc3a1284">StringSet</a> spdr::MembershipService::getAttributeKeySet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the attribute key-set. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1805daa47e95717dedf11acffe9d03fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::MembershipService::getForeignZoneMembership </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>zoneBusName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeAttributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the membership view of a single base-zone. </p>
<p>Asynchronously retrieve the membership view of a base-zone.</p>
<p>The view is delivered via the <a class="el" href="classspdr_1_1_membership_listener.html" title="An interface for receiving membership events.">MembershipListener</a> in a ForeignZoneMembershipEvent. When a request is issued for a single base-zone ForeignZoneMembershipEvent::isLastEvent() always returns true.</p>
<p>Note that this request may fail immediately with an exception, or by returning a ForeignZoneMembershipEvent in which ForeignZoneMembershipEvent::isError() returns true. In case of an error, the events carries an error code and an error text message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">zoneBusName</td><td>The base-zone bus-name. </td></tr>
    <tr><td class="paramname">includeAttributes</td><td>Whether to include attributes or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A request number. This number is included in the resulting event.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed; or if called on a node that belongs to a base-zone. </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_argument_exception.html" title="Thrown when an illegal argument is passed to method.">IllegalArgumentException</a></td><td>if the bus-name is ill-formed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classspdr_1_1event_1_1_foreign_zone_membership_event.html" title="Foreign zone membership event.">event::ForeignZoneMembershipEvent</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1729a5523ff30389b3a8093ae17157fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t spdr::MembershipService::getZoneCensus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw (<a class="el" href="classspdr_1_1_spider_cast_logic_error.html">SpiderCastLogicError</a>, <a class="el" href="classspdr_1_1_spider_cast_runtime_error.html">SpiderCastRuntimeError</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the zone census. </p>
<p>Asynchronously retrieve the zone-census.</p>
<p>The zone-census is delivered via the <a class="el" href="classspdr_1_1_membership_listener.html" title="An interface for receiving membership events.">MembershipListener</a> in a ZoneCensusEvent.</p>
<dl class="section return"><dt>Returns</dt><dd>A request number. This number is included in the resulting event.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed; or if called on a node that belongs to a base-zone.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classspdr_1_1event_1_1_zone_census_event.html" title="Zone census event.">event::ZoneCensusEvent</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1af84f8dcb10389a2e4e2f4aaa71fac0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the service closed? </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ac40c12f940293c1c23433ed3b083135f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::isEmptyAttributeMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the attribute map empty? </p>
<dl class="section return"><dt>Returns</dt><dd>true if attribute map is empty</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a00cde6af72e64db76df41efa6194921c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::isHighPriorityMonitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this node is a high priority monitor. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a6e079745e8adbc409d9d886696492135"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::removeAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a key-value pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if removed, map size changed</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a19797f4d3b1a0db24d72e0d98c852465"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::setAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacespdr.html#a7f401d01169db6726fafead25ba23c9c">String</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set (and overwrite) a key-value pair. </p>
<p>An attribute value is a raw byte buffer. First member is the length, second is a pointer to the buffer. A zero length is legal and means a key mapped to an empty value, the pointer is NULL.</p>
<p>The buffer is copied, so the pointer remains under responsibility of the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Must start with an alphanumeric character, trailing whitespace is trimmed. </td></tr>
    <tr><td class="paramname">value</td><td>A pair in which the first member is the length, second is a pointer to the buffer. A zero length is legal and means a key mapped to an empty value, the pointer must be NULL. Negative length is illegal.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the key is new, map size changed</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_argument_exception.html" title="Thrown when an illegal argument is passed to method.">IllegalArgumentException</a></td><td>if illegal key or value is given. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c67bc10775fedd0b61eadbfd36ecd5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool spdr::MembershipService::setHighPriorityMonitor </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark/unmark this node as a high priority monitor. </p>
<p>The delivery of leave events and failure suspicions will be expedited to this node. This call has effect only if the configuration enables it, and UDP discovery is enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the state of high priority monitoring after the call. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5bb25db4b41986cf8b176ee11a83091"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t spdr::MembershipService::sizeOfAttributeMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of attribute map. </p>
<dl class="section return"><dt>Returns</dt><dd>size of attribute map</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classspdr_1_1_illegal_state_exception.html" title="Thrown when an operation is performed on an object with illegal state.">IllegalStateException</a></td><td>if called when service is closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abcd780d783f504535b2183ec0a141adf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacespdr.html#ad4f560d91764640f07b273f3290196a0">Const_Buffer</a> spdr::MembershipService::EmptyAttributeValue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A constant representing an empty attribute value. </p>
<p>A pair with: first (length) = 0; second (pointer to buffer) = NULL. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/workspace/SpiderCastCpp/SpiderCastCpp/API/include/<a class="el" href="_membership_service_8h_source.html">MembershipService.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 30 2012 15:33:38 for SpiderCast C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
