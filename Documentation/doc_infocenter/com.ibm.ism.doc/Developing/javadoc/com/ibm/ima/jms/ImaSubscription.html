<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Thu Nov 15 22:10:50 GMT 2018 -->
<title>ImaSubscription (IBM IoT MessageSight Javadoc Reference)</title>
<meta name="date" content="2018-11-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ImaSubscription (IBM IoT MessageSight Javadoc Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/ibm/ima/jms/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImaSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ibm/ima/jms/ImaProperties.html" title="interface in com.ibm.ima.jms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/ima/jms/ImaSubscription.html" target="_top">Frames</a></li>
<li><a href="ImaSubscription.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="ImaSubscription" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.ibm.ima.jms</div>
<h2 title="Interface ImaSubscription" class="title" id="Header1">Interface ImaSubscription</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ImaSubscription</span></pre>
<div class="block">Allow access to shared subscriptions from JMS 1.1.
 <p>
 JMS 2.0 adds the concept of shared subscriptions and the IBM MessageSight JMS client allows these 
 methods to be accessed with a JMS 1.1 client using the ImaSubscription interface. 
 The Session object returned by the IBM MssageSight JMS client implements the ImaSubscription interface
 which adds new methods for shared subscriptions.  These methods match the design for the shared
 subscription support added in JMS 2.0.
 <p>
 To use these methods you must cast the returned Session object to ImaSubscription:
 <pre>
 Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
 MessageConsumer consumer = <b>((ImaSubscription)session)</b>.createSharedConsumer(topic, "Subscription");
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createDurableConsumer-javax.jms.Topic-java.lang.String-">createDurableConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                     String&nbsp;name)</code>
<div class="block">Creates a durable subscription and returns a message consumer over it.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createDurableConsumer-javax.jms.Topic-java.lang.String-java.lang.String-boolean-">createDurableConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                     String&nbsp;name,
                     String&nbsp;selector,
                     boolean&nbsp;noLocal)</code>
<div class="block">Creates a durable subscription and returns a message consumer over it.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createSharedConsumer-javax.jms.Topic-java.lang.String-">createSharedConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                    String&nbsp;name)</code>
<div class="block">Creates a shared non-durable subscription and returns a message consumer over it.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createSharedConsumer-javax.jms.Topic-java.lang.String-java.lang.String-">createSharedConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                    String&nbsp;name,
                    String&nbsp;selector)</code>
<div class="block">Creates a shared non-durable subscription and returns a message consumer over it.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createSharedDurableConsumer-javax.jms.Topic-java.lang.String-">createSharedDurableConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                           String&nbsp;name)</code>
<div class="block">Creates a shared durable subscription and returns a message consumer over it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>javax.jms.MessageConsumer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ibm/ima/jms/ImaSubscription.html#createSharedDurableConsumer-javax.jms.Topic-java.lang.String-java.lang.String-">createSharedDurableConsumer</a></span>(javax.jms.Topic&nbsp;topic,
                           String&nbsp;name,
                           String&nbsp;selector)</code>
<div class="block">Creates a shared durable subscription and returns a message consumer over it.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createSharedConsumer-javax.jms.Topic-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSharedConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createSharedConsumer(javax.jms.Topic&nbsp;topic,
                                               String&nbsp;name)
                                        throws javax.jms.JMSException</pre>
<div class="block">Creates a shared non-durable subscription and returns a message consumer over it.
 <p> 
 Creates a shared non-durable subscription with the specified name on the specified topic 
 (if one does not already exist) and creates a consumer on that subscription.
 This method creates the non-durable subscription without a message selector.
 <p>
 If a shared non-durable subscription already exists with the same name and client identifier (if set), 
 and the same topic and message selector has been specified, then this method creates a MessageConsumer 
 on the existing subscription.
 <p>
 A non-durable shared subscription is used by a client which needs to be able to share the work of 
 receiving messages from a topic subscription amongst multiple consumers. A non-durable shared 
 subscription may therefore have more than one consumer. Each message from the subscription will be 
 delivered to only one of the consumers on that subscription. 
 Such a subscription is not persisted and will be deleted (together with any undelivered messages 
 associated with it) when there are no consumers on it. The term "consumer" here means a MessageConsumer 
 object in any client. 
 <p>
 A shared non-durable subscription is identified by a name specified by the client and by 
 the client identifier (which may be unset). An application which subsequently wishes to create 
 a consumer on that shared non-durable subscription must use the same client identifier. 
 <p>
 If a shared non-durable subscription already exists with the same name and client identifier 
 (if set) but a different topic or message selector has been specified, and there is a consumer 
 already active (i.e. not closed) on the subscription, then a JMSException will be thrown. 
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having 
 the same name and clientId (which may be unset). Such subscriptions would be completely separate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - The topic to subscribe to</dd>
<dd><code>name</code> - - The subscription name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - - 
 <ul>
 <li>if the name already exists but the topic or selector are different and there are already consumers,
 <li>if a nonshared non-durable subscription already exists with the same name 
 <li>if the subscription or consumer cannot be created due to an internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight V1.1</dd>
</dl>
</li>
</ul>
<a name="createSharedConsumer-javax.jms.Topic-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSharedConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createSharedConsumer(javax.jms.Topic&nbsp;topic,
                                               String&nbsp;name,
                                               String&nbsp;selector)
                                        throws javax.jms.JMSException</pre>
<div class="block">Creates a shared non-durable subscription and returns a message consumer over it.
 <p> 
 Creates a shared non-durable subscription with the specified name on the specified topic 
 (if one does not already exist) specifying a message selector, and creates a consumer on that subscription.
 <p>
 If a shared non-durable subscription already exists with the same name and client identifier (if set), 
 and the same topic and message selector has been specified, then this method creates a MessageConsumer 
 on the existing subscription.
 <p>
 A non-durable shared subscription is used by a client which needs to be able to share the work of 
 receiving messages from a topic subscription amongst multiple consumers. A non-durable shared 
 subscription may therefore have more than one consumer. Each message from the subscription will be 
 delivered to only one of the consumers on that subscription. 
 Such a subscription is not persisted and will be deleted (together with any undelivered messages 
 associated with it) when there are no consumers on it. The term "consumer" here means a MessageConsumer 
 object in any client. 
 <p>
 A shared non-durable subscription is identified by a name specified by the client and by 
 the client identifier (which may be unset). An application which subsequently wishes to create 
 a consumer on that shared non-durable subscription must use the same client identifier. 
 <p>
 If a shared non-durable subscription already exists with the same name and client identifier 
 (if set) but a different topic or message selector has been specified, and there is a consumer 
 already active (i.e. not closed) on the subscription, then a JMSException will be thrown. 
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having 
 the same name and clientId (which may be unset). Such subscriptions would be completely separate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - The topic to subscribe to</dd>
<dd><code>name</code> - - The subscription name</dd>
<dd><code>selector</code> - - The message selector</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - - 
 <ul>
 <li>if the name already exists but the topic or selector are different and there are already consumers,
 <li>if a nonshared non-durable subscription already exists with the same name 
 <li>if the subscription or consumer cannot be created due to an internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dd><code>javax.jms.InvalidSelectorException</code> - - if the message selector is not valid</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight V1.1</dd>
</dl>
</li>
</ul>
<a name="createSharedDurableConsumer-javax.jms.Topic-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSharedDurableConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createSharedDurableConsumer(javax.jms.Topic&nbsp;topic,
                                                      String&nbsp;name)
                                               throws javax.jms.JMSException</pre>
<div class="block">Creates a shared durable subscription and returns a message consumer over it.
 <p> 
 Creates a shared durable subscription on the specified topic (if one does not already exist), 
 and creates a consumer on that durable subscription. 
 This method creates the durable subscription without a message selector.
 <p>
 A durable subscription is used by an application which needs to receive all the messages 
 published on a topic, including the ones published when there is no active consumer associated with it. 
 The JMS provider retains a record of this durable subscription and ensures that all messages from the 
 topic's publishers are retained until they are delivered to, and acknowledged by, a consumer on this 
 durable subscription or until they have expired.
 <p> 
 A durable subscription will continue to accumulate messages until it is deleted using the unsubscribe method. 
 <p>
 This method may only be used with shared durable subscriptions. Any durable subscription created using 
 this method will be shared. This means that multiple active (i.e. not closed) consumers on the subscription 
 may exist at the same time. The term "consumer" here means a MessageConsumer object in any client.
 <p>
 A shared durable subscription is identified by a name specified by the client and by the client identifier 
 (which may be unset). An application which subsequently wishes to create a consumer on that shared durable 
 subscription must use the same client identifier. 
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set), 
 and the same topic and message selector has been specified, then this method creates a MessageConsumer 
 on the existing shared durable subscription.
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set) 
 but a different topic or message selector has been specified, and there is no consumer already active (
 i.e. any existing consumers are closed) on the durable subscription then this is equivalent to unsubscribing (deleting) the old 
 one and creating a new one. 
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set) 
 but a different topic or message selector has been specified, and there is a consumer already active (
 i.e. not closed) on the durable subscription, then a JMSException will be thrown.
 <p>
 A shared durable subscription and an unshared durable subscription may not have the same name and 
 client identifier (if set). If an unshared durable subscription already exists with the same name 
 and client identifier (if set) then a JMSException is thrown.
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having the 
 same name and clientId (which may be unset). Such subscriptions would be completely separate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - The topic to subscribe to</dd>
<dd><code>name</code> - - The subscription name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - - 
 <ul>
 <li>if the name already exists but the topic or selector are different and there are already consumers,
 <li>if a nonshared durable subscription already exists with the same name 
 <li>if the subscription or consumer cannot be created due to an internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight V1.1</dd>
</dl>
</li>
</ul>
<a name="createSharedDurableConsumer-javax.jms.Topic-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSharedDurableConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createSharedDurableConsumer(javax.jms.Topic&nbsp;topic,
                                                      String&nbsp;name,
                                                      String&nbsp;selector)
                                               throws javax.jms.JMSException</pre>
<div class="block">Creates a shared durable subscription and returns a message consumer over it.
 <p> 
 Creates a shared durable subscription on the specified topic (if one does not already exist), 
 specifying a message selector, and creates a consumer on that durable subscription. 
 This method creates the durable subscription with a message selector.
 <p>
 A durable subscription is used by an application which needs to receive all the messages 
 published on a topic, including the ones published when there is no active consumer associated with it. 
 The JMS provider retains a record of this durable subscription and ensures that all messages from the 
 topic's publishers are retained until they are delivered to, and acknowledged by, a consumer on this 
 durable subscription or until they have expired.
 <p> 
 A durable subscription will continue to accumulate messages until it is deleted using the unsubscribe method. 
 <p>
 This method may only be used with shared durable subscriptions. Any durable subscription created using 
 this method will be shared. This means that multiple active (i.e. not closed) consumers on the subscription 
 may exist at the same time. The term "consumer" here means a MessageConsumer object in any client.
 <p>
 A shared durable subscription is identified by a name specified by the client and by the client identifier 
 (which may be unset). An application which subsequently wishes to create a consumer on that shared durable 
 subscription must use the same client identifier. 
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set), 
 and the same topic and message selector has been specified, then this method creates a MessageConsumer 
 on the existing shared durable subscription.
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set) 
 but a different topic or message selector has been specified, and there is no consumer already active (
 i.e. any existing consumers are closed) on the durable subscription then this is equivalent to unsubscribing (deleting) the old 
 one and creating a new one. 
 <p>
 If a shared durable subscription already exists with the same name and client identifier (if set) 
 but a different topic or message selector has been specified, and there is a consumer already active (
 i.e. not closed) on the durable subscription, then a JMSException will be thrown.
 <p>
 A shared durable subscription and an unshared durable subscription may not have the same name and 
 client identifier (if set). If an unshared durable subscription already exists with the same name 
 and client identifier (if set) then a JMSException is thrown.
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having the 
 same name and clientId (which may be unset). Such subscriptions would be completely separate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - The topic to subscribe to</dd>
<dd><code>name</code> - - The subscription name</dd>
<dd><code>selector</code> - - The message selector</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - - 
 <ul>
 <li>if the name already exists but the topic or selector are different and there are already consumers,
 <li>if a nonshared durable subscription already exists with the same name 
 <li>if the subscription or consumer cannot be created due to an internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dd><code>javax.jms.InvalidSelectorException</code> - - if the message selector is not valid</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight V1.1</dd>
</dl>
</li>
</ul>
<a name="createDurableConsumer-javax.jms.Topic-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDurableConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createDurableConsumer(javax.jms.Topic&nbsp;topic,
                                                String&nbsp;name)
                                         throws javax.jms.JMSException</pre>
<div class="block">Creates a durable subscription and returns a message consumer over it.
 <p>
 Creates an unshared durable subscription on the specified topic (if one does not already exist) 
 and creates a consumer on that durable subscription. This method creates the durable subscription 
 without a message selector and with a noLocal value of false. 
 <p>
 A durable subscription is used by an application which needs to receive all the messages 
 published on a topic, including the ones published when there is no active consumer associated with it. 
 The JMS provider retains a record of this durable subscription and ensures that all messages from the 
 topic's publishers are retained until they are delivered to, and acknowledged by, a consumer on this 
 durable subscription or until they have expired. 
 <p>
 A durable subscription will continue to accumulate messages until it is deleted using the unsubscribe method. 
 <p>
 This method may only be used with unshared durable subscriptions. Any durable subscription created 
 using this method will be unshared. This means that only one active (i.e. not closed) consumer on the 
 subscription may exist at a time. The term "consumer" here means a TopicSubscriber or MessageConsumer 
 object in any client. 
 <p>
 An unshared durable subscription is identified by a name specified by the client and by the client 
 identifier, which must be set. An application which subsequently wishes to create a consumer on that 
 unshared durable subscription must use the same client identifier. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier, 
 and the same topic, message selector and noLocal value has been specified, and there is no consumer 
 already active (i.e. any previously existing consumers are closed) on the durable subscription then this 
 method creates a MessageConsumer on the existing durable subscription. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier, 
 and there is a consumer already active (i.e. not closed) on the durable subscription, then a 
 JMSException will be thrown. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier 
 but a different topic, message selector or noLocal value has been specified, and there is no consumer 
 already active (i.e. any previously existing consumers are closed) on the durable subscription then this
 is equivalent to unsubscribing (deleting) the old one and creating a new one. 
 <p>
 A shared durable subscription and an unshared durable subscription may not have the same name and 
 client identifier. If a shared durable subscription already exists with the same name and client identifier 
 then a JMSException is thrown.
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having the 
 same name and clientId. Such subscriptions would be completely separate.
 <p>
 This method is identical to the corresponding createDurableSubscriber method except that it returns 
 a MessageConsumer rather than a TopicSubscriber to represent the consumer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - the topic to subscribe to</dd>
<dd><code>name</code> - - the subscription name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - -
 <ul>
 <li>if an unshared durable subscription already exists with the same name and client identifier, and 
 there is a consumer already active.
 <li>if a shared durable subscription already exists with the same name and client identifier 
 <li>if the the subscription or MessageConsumer cannot be created due to some internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dd><code>IllegalStateException</code> - - if the client identifier is not set</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight v1.1</dd>
</dl>
</li>
</ul>
<a name="createDurableConsumer-javax.jms.Topic-java.lang.String-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createDurableConsumer</h4>
<pre>javax.jms.MessageConsumer&nbsp;createDurableConsumer(javax.jms.Topic&nbsp;topic,
                                                String&nbsp;name,
                                                String&nbsp;selector,
                                                boolean&nbsp;noLocal)
                                         throws javax.jms.JMSException</pre>
<div class="block">Creates a durable subscription and returns a message consumer over it.
 <p>
 Creates an unshared durable subscription on the specified topic (if one does not already exist) 
 specifying a message selector and the noLocal parameter, and creates a consumer on that durable subscription. 
 <p>
 A durable subscription is used by an application which needs to receive all the messages 
 published on a topic, including the ones published when there is no active consumer associated with it. 
 The JMS provider retains a record of this durable subscription and ensures that all messages from the 
 topic's publishers are retained until they are delivered to, and acknowledged by, a consumer on this 
 durable subscription or until they have expired. 
 <p>
 A durable subscription will continue to accumulate messages until it is deleted using the unsubscribe method. 
 <p>
 This method may only be used with unshared durable subscriptions. Any durable subscription created 
 using this method will be unshared. This means that only one active (i.e. not closed) consumer on the 
 subscription may exist at a time. The term "consumer" here means a TopicSubscriber or MessageConsumer 
 object in any client. 
 <p>
 An unshared durable subscription is identified by a name specified by the client and by the client 
 identifier, which must be set. An application which subsequently wishes to create a consumer on that 
 unshared durable subscription must use the same client identifier. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier, 
 and the same topic, message selector and noLocal value has been specified, and there is no consumer 
 already active (i.e. any previously existing consumers are closed) on the durable subscription then this 
 method creates a MessageConsumer on the existing durable subscription. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier, 
 and there is a consumer already active (i.e. not closed) on the durable subscription, then a 
 JMSException will be thrown. 
 <p>
 If an unshared durable subscription already exists with the same name and client identifier 
 but a different topic, message selector or noLocal value has been specified, and there is no consumer 
 already active (i.e. any previously existing consumers are closed) on the durable subscription then this
 is equivalent to unsubscribing (deleting) the old one and creating a new one. 
 <p>
 A shared durable subscription and an unshared durable subscription may not have the same name and 
 client identifier. If a shared durable subscription already exists with the same name and client identifier 
 then a JMSException is thrown.
 <p>
 There is no restriction on durable subscriptions and shared non-durable subscriptions having the 
 same name and clientId. Such subscriptions would be completely separate.
 <p>
 This method is identical to the corresponding createDurableSubscriber method except that it returns 
 a MessageConsumer rather than a TopicSubscriber to represent the consumer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - - the topic to subscribe to</dd>
<dd><code>name</code> - - the subscription name</dd>
<dd><code>selector</code> - - the message selector</dd>
<dd><code>noLocal</code> - - if true then any messages published to the topic from a connection with the 
 same client identifier will not be added to the durable subscription.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message consumer object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code> - -
 <ul>
 <li>if an unshared durable subscription already exists with the same name and client identifier, and 
 there is a consumer already active.
 <li>if a shared durable subscription already exists with the same name and client identifier 
 <li>if the the subscription or MessageConsumer cannot be created due to some internal error
 </ul></dd>
<dd><code>javax.jms.InvalidDestinationException</code> - - if an invalid topic is specified</dd>
<dd><code>IllegalStateException</code> - - if the client identifier is not set</dd>
<dd><code>javax.jms.InvalidSelectorException</code> - - if the message selector is not valid</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>IBM MessageSight v1.1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/ibm/ima/jms/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImaSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ibm/ima/jms/ImaProperties.html" title="interface in com.ibm.ima.jms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/ima/jms/ImaSubscription.html" target="_top">Frames</a></li>
<li><a href="ImaSubscription.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><i>Copyright &#169; Contributors to the Eclipse Foundation 2012-2021.</i></small></p>
</body>
</html>
