<?xml version="1.0" encoding="UTF-8"?>
<!--
# Copyright (c) 2013-2021 Contributors to the Eclipse Foundation
# 
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
# 
# This program and the accompanying materials are made available under the
# terms of the Eclipse Public License 2.0 which is available at
# http://www.eclipse.org/legal/epl-2.0
# 
# SPDX-License-Identifier: EPL-2.0
#
 -->
<connector id="Connector_ID" version="1.6"
	xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/connector_1_6.xsd"
	metadata-complete="false">
	<display-name>Eclipse Amlen Resource Adapter</display-name>
	<vendor-name>
		Eclipse Foundation
	</vendor-name>
	<eis-type>Java Message Service</eis-type>
	<resourceadapter-version>VERSION_ID</resourceadapter-version>
	<resourceadapter>
		<resourceadapter-class>
			com.ibm.ima.ra.ImaResourceAdapter
		</resourceadapter-class>
		<config-property>
			<config-property-name>traceFile</config-property-name>
			<config-property-type>
				java.lang.String
			</config-property-type>
		</config-property>
		<config-property>
			<config-property-name>defaultTraceLevel</config-property-name>
			<config-property-type>
				java.lang.String
			</config-property-type>
		</config-property>
		<config-property>
			<config-property-name>dynamicTraceEnabled</config-property-name>
			<config-property-type>
				java.lang.String
			</config-property-type>
		</config-property>

		<!--Outbound resource adapter.  There are three one for each kind of Connection-->
		<outbound-resourceadapter>
			<connection-definition>
				<managedconnectionfactory-class>
					com.ibm.ima.ra.outbound.ImaManagedConnectionFactory
				</managedconnectionfactory-class>
				<config-property>
					<config-property-name>server</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>port</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>				
				<config-property>
					<config-property-name>
						clientId
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>			
				<config-property>
					<config-property-name>
						protocol
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>user</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						password
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
					<config-property-confidential>
						true
					</config-property-confidential>
				</config-property>
				<config-property>
					<config-property-name>
						securitySocketFactory
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						securityConfiguration
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryQueue
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryTopic
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						transactionSupportLevel
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>traceLevel</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						convertMessageType
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<connectionfactory-interface>
					javax.jms.ConnectionFactory
				</connectionfactory-interface>
				<connectionfactory-impl-class>
					com.ibm.ima.ra.outbound.ImaConnectionFactoryProxy
				</connectionfactory-impl-class>
				<connection-interface>
					javax.jms.Connection
				</connection-interface>
				<connection-impl-class>
					com.ibm.ima.ra.outbound.ImaConnectionProxy
				</connection-impl-class>
			</connection-definition>
			<connection-definition>
				<managedconnectionfactory-class>com.ibm.ima.ra.outbound.ImaManagedQueueConnectionFactory</managedconnectionfactory-class>
				<config-property>
					<config-property-name>server</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>port</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						protocol
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>user</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						password
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
					<config-property-confidential>
						true
					</config-property-confidential>
				</config-property>
				
				<config-property>
					<config-property-name>
						clientId
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				
				<config-property>
					<config-property-name>
						securitySocketFactory
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						securityConfiguration
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryQueue
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryTopic
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						transactionSupportLevel
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>traceLevel</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						convertMessageType
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<connectionfactory-interface>
					javax.jms.QueueConnectionFactory
				</connectionfactory-interface>
				<connectionfactory-impl-class>com.ibm.ima.ra.outbound.ImaConnectionFactoryProxy</connectionfactory-impl-class>
				<connection-interface>
					javax.jms.QueueConnection
				</connection-interface>
				<connection-impl-class>com.ibm.ima.ra.outbound.ImaConnectionProxy</connection-impl-class>
			</connection-definition>
			<connection-definition>
				<managedconnectionfactory-class>com.ibm.ima.ra.outbound.ImaManagedTopicConnectionFactory</managedconnectionfactory-class>
				<config-property>
					<config-property-name>server</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>port</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>				
				<config-property>
					<config-property-name>
						clientId
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>				
				<config-property>
					<config-property-name>
						protocol
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>user</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						password
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
					<config-property-confidential>
						true
					</config-property-confidential>
				</config-property>
				<config-property>
					<config-property-name>
						securitySocketFactory
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						securityConfiguration
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryQueue
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						temporaryTopic
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						transactionSupportLevel
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>traceLevel</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<config-property>
					<config-property-name>
						convertMessageType
					</config-property-name>
					<config-property-type>
						java.lang.String
					</config-property-type>
				</config-property>
				<connectionfactory-interface>
					javax.jms.TopicConnectionFactory
				</connectionfactory-interface>
				<connectionfactory-impl-class>com.ibm.ima.ra.outbound.ImaConnectionFactoryProxy</connectionfactory-impl-class>
				<connection-interface>
					javax.jms.TopicConnection
				</connection-interface>
				<connection-impl-class>com.ibm.ima.ra.outbound.ImaConnectionProxy</connection-impl-class>
			</connection-definition>
			<transaction-support>XATransaction</transaction-support>
			<reauthentication-support>false</reauthentication-support>
		</outbound-resourceadapter>

		<!-- Inbound resource adapter -->
		<inbound-resourceadapter>
			<messageadapter>
				<messagelistener>
					<messagelistener-type>
						javax.jms.MessageListener
					</messagelistener-type>
					<activationspec>
						<activationspec-class>
							com.ibm.ima.ra.inbound.ImaActivationSpec
						</activationspec-class>
						<config-property>
							<config-property-name>
								server
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								destination
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								destinationType
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								destinationLookup
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								port
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						
						<config-property>
							<config-property-name>
								clientId
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						
						<config-property>
							<config-property-name>
								protocol
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								user
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								password
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
							<config-property-confidential>
								true
							</config-property-confidential>
						</config-property>
						<config-property>
							<config-property-name>
								clientMessageCache
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								concurrentConsumers
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								enableRollback
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								ignoreFailuresOnStart
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								maxDeliveryFailures
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								acknowledgeMode
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								convertMessageType
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								subscriptionDurability
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								subscriptionShared
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
						</config-property>
						<config-property>
							<config-property-name>
								subscriptionName
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
							<config-property-value></config-property-value>
						</config-property>
						<config-property>
							<config-property-name>
								messageSelector
							</config-property-name>
							<config-property-type>
								java.lang.String
							</config-property-type>
							<config-property-value></config-property-value>
						</config-property>
					</activationspec>
				</messagelistener>
			</messageadapter>
		</inbound-resourceadapter>
		<adminobject>
			<adminobject-interface>
				javax.jms.Queue
			</adminobject-interface>
			<adminobject-class>
				com.ibm.ima.jms.impl.ImaQueue
			</adminobject-class>
			<config-property>
			    <description>The queue name</description>
				<config-property-name>name</config-property-name>
				<config-property-type>
					java.lang.String
				</config-property-type>
			</config-property>
		</adminobject>
		<adminobject>
			<adminobject-interface>
				javax.jms.Topic
			</adminobject-interface>
			<adminobject-class>
				com.ibm.ima.jms.impl.ImaTopic
			</adminobject-class>
			<config-property>
				<description>The topic string which can contain wildcard characters for subscriptions</description>
				<config-property-name>name</config-property-name>
				<config-property-type>
					java.lang.String
				</config-property-type>
			</config-property>
		</adminobject>
		<security-permission>
			<description>
				Security Permissions for the Eclipse Amlen JMS client
			</description>
			<security-permission-spec>
				grant { permission java.security.AllPermission; };
			</security-permission-spec>
		</security-permission>
	</resourceadapter>
</connector>
