<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * Copyright (c) 2013-2021 Contributors to the Eclipse Foundation
 * 
 * See the NOTICE file(s) distributed with this work for additional
 * information regarding copyright ownership.
 * 
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0
 * 
 * SPDX-License-Identifier: EPL-2.0
 */
  TestCase Name: jms_msgdelivery_003

  Test Category:  JMS Message Delivery

  Test Description:
        Test the ability to suspend and then resume message delivery. Use two
        machines for this test.

        Also verifies that ClientID will be picked up from the environment variable
        "ClientID" if it is set. And that if ClientID is set in connectionFactory, the environment
        variable will be ignored.

        The environment variable is set as follows by the scripts, on both client machines:

        ClientID=MyTestClientID

        In rmdt, the ConnectionFactory sets ClientID to Producer_ClientID.
        In rmdr, the ConnectionFactory does not set ClientID.

        Both cases there is a verify to assure we are using the correct ones.

        Test using Duplicate ClientID on the producer, and verify that we get
        ClientID in use exception.
-->
<LlmJmsTest name="jms_msgdelivery_003">
        <SyncClient>
                <server>
                        <include>../common/JMS_syncip.xml</include>
						<include>../common/JMS_syncport.xml</include>
                </server>
                <solution>jms_msgdelivery_003</solution>
        </SyncClient>


        <Action name="rmdt" type="CompositeAction">
                <Action name="CreateTx_cf1" type="CreateConnectionFactory">
                        <ActionParameter name="structure_id">tx_cf1</ActionParameter>
                </Action>

                <!-- The client ID should be taken from the Environment Variable, not set here. -->
                <Action name="SetPropsTx_cf1" type="FillIsmProps">
                        <ActionParameter name="structure_id">tx_cf1</ActionParameter>
                        <ActionParameter name="validateAll">true</ActionParameter>
                        <ActionParameter name="validateNoWarn">false</ActionParameter>
                        <ImaProperty name="ClientID" value="Producer_ClientID" type="STRING"/>
                        <ImaProperty name="DisableMessageID" value="false" type="STRING"/>
                        <include>../common/JMS_serverIPv6.xml</include>
                        <ImaProperty name="Port" value="16102" type="STRING"/>
                </Action>

                <!-- ClientID came from the Connection Factory, and ignored the Environment Variable. -->
                <Action name="CreateConnectionTx_cf1" type="CreateConnection">
                        <ActionParameter name="structure_id">connection_tx_cf1</ActionParameter>
                        <ActionParameter name="factory_id">tx_cf1</ActionParameter>
                        <ActionParameter name="verifyID">Producer_ClientID</ActionParameter>
                </Action>

                <Action name="CreateConnectionTx2_cf1" type="CreateConnection">
                        <ActionParameter name="structure_id">connection2_tx_cf1</ActionParameter>
                        <ActionParameter name="factory_id">tx_cf1</ActionParameter>
                        <ActionParameter name="verifyID">Producer_ClientID</ActionParameter>
                </Action>

                <Action name="CreateConnectionTx3_cf1" type="CreateConnection">
                        <ActionParameter name="structure_id">connection3_tx_cf1</ActionParameter>
                        <ActionParameter name="factory_id">tx_cf1</ActionParameter>
                        <ActionParameter name="verifyID">Producer_ClientID</ActionParameter>
                </Action>

                <Action name="CreateSession1Tx_conn_cf1" type="CreateSession">
                        <ActionParameter name="conn_id">connection_tx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session1_tx_cf1</ActionParameter>
                </Action>

                <Action name="CreateSession1Tx2_conn_cf1" type="CreateSession" rc="1" reason="CWLNC0205">
                        <ActionParameter name="conn_id">connection2_tx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session2_tx_cf1</ActionParameter>
                </Action>

                <Action name="CreateSession1Tx3_conn_cf1" type="CreateSession" rc="1" reason="CWLNC0205">
                        <ActionParameter name="conn_id">connection3_tx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session3_tx_cf1</ActionParameter>
                </Action>

                <Action name="CreateTx_dest1" type="CreateDestination">
                        <ActionParameter name="structure_id">tx_dest1</ActionParameter>
                        <ActionParameter name="type">topic</ActionParameter>
                        <ApiParameter name="name">subscription one</ApiParameter>
                </Action>

                <Action name="CreateProducer1Tx_dest1" type="CreateProducer">
                        <ActionParameter name="structure_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="dest_id">tx_dest1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                </Action>

                <Action name="StartConnectionTx_cf1" type="StartConnection">
                        <ActionParameter name="conn_id">connection_tx_cf1</ActionParameter>
                </Action>

                <!-- PRODUCER: Create messages -->
                <Action name="CreateBytesMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_bytes_msg1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">BYTES</ApiParameter>
                </Action>

                <Action name="CreateMapMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_map_msg1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">MAP</ApiParameter>
                </Action>

                <Action name="CreateObjMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_obj_msg1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">OBJECT</ApiParameter>
                </Action>

                <Action name="CreateStreamMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_strm_msg1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">STREAM</ApiParameter>
                </Action>

                <Action name="CreateTxtMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_txt_msg1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">TEXT</ApiParameter>
                </Action>

                <Action name="CreateEmptyBytesMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_bytes_msgEmpty</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">BYTES</ApiParameter>
                </Action>

                <Action name="CreateEmptyMapMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_map_msgEmpty</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">MAP</ApiParameter>
                </Action>

                <Action name="CreateEmptyObjectMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_obj_msgEmpty</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">OBJECT</ApiParameter>
                </Action>

                <Action name="CreateEmptyTxtMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_txt_msgEmpty</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                        <ApiParameter name="msgType">TEXT</ApiParameter>
                </Action>

                <Action name="CreateEmptyMessage_prod_dest1" type="CreateMessage">
                        <ActionParameter name="structure_id">tx_msgEmpty</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                </Action>

                <!-- PRODUCER: Set message content -->
                <Action name="WriteBytesMessage_prod_dest1" type="WriteBytesMessage">
                        <ActionParameter name="message_id">tx_bytes_msg1</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ApiParameter name="value">BYTES: test content 1</ApiParameter>
                </Action>

                <Action name="SetMapItem1_prod_dest1" type="SetMessageMapItem">
                        <ActionParameter name="message_id">tx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ApiParameter name="value">MAP: test content 1</ApiParameter>
                </Action>

                <Action name="SetMapItem2_prod_dest1" type="SetMessageMapItem">
                        <ActionParameter name="message_id">tx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ApiParameter name="value">MAP: test content 2</ApiParameter>
                </Action>

                <Action name="SetObjMsg_prod_dest1" type="SetMessageObject">
                        <ActionParameter name="message_id">tx_obj_msg1</ActionParameter>
                        <ActionParameter name="objValueType">String</ActionParameter>
                        <ApiParameter name="value">OBJECT: test content 1</ApiParameter>
                </Action>

                <Action name="WriteStreamMessage_prod_dest1" type="WriteStreamMessage">
                        <ActionParameter name="message_id">tx_strm_msg1</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ApiParameter name="value">STREAM: test content 1</ApiParameter>
                </Action>

                <Action name="SetTxtMsg_prod_dest1" type="SetMessageText">
                        <ActionParameter name="message_id">tx_txt_msg1</ActionParameter>
                        <ApiParameter name="value">TEXT: test content 1</ApiParameter>
                </Action>

                <!-- NOTE: No content set for "empty" messages -->

                <!-- PRODUCER: Send messages -->
                <Action name="sync_components_tx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">tx1</ActionParameter>
                        <ActionParameter name="component_list">tx1;rx1</ActionParameter>
                        <ActionParameter name="timeout">15000</ActionParameter>
                </Action>
                <Action name="SendBytesMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msg1</ActionParameter>
                </Action>

                <Action name="SendMapMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msg1</ActionParameter>
                </Action>

                <Action name="SendObjMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msg1</ActionParameter>
                </Action>

                <Action name="SendStreamMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_strm_msg1</ActionParameter>
                </Action>

                <Action name="SendTxtMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msg1</ActionParameter>
                </Action>

                <Action name="SendEmptyBytesMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMapMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyObjectMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyTextMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMessage_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_msgEmpty</ActionParameter>
                </Action>

                <Action name="StopConnection2Tx_cf1" type="StopConnection">
                        <ActionParameter name="conn_id">connection_tx_cf1</ActionParameter>
                </Action>

                <Action name="sync_components_StopTx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">stopTx1</ActionParameter>
                        <ActionParameter name="component_list">stopTx1;stopRx1</ActionParameter>
                        <ActionParameter name="timeout">15000</ActionParameter>
                </Action>

                <!-- PRODUCER: Send messages second time -->
                <Action name="SendBytesMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msg1</ActionParameter>
                </Action>

                <Action name="SendMapMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msg1</ActionParameter>
                </Action>

                <Action name="SendObjMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msg1</ActionParameter>
                </Action>

                <Action name="SendStreamMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_strm_msg1</ActionParameter>
                </Action>

                <Action name="SendTxtMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msg1</ActionParameter>
                </Action>

                <Action name="SendEmptyBytesMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMapMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyObjectMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyTextMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMessage2_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_msgEmpty</ActionParameter>
                </Action>

                <Action name="sync_components_StartTx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">startTx1</ActionParameter>
                        <ActionParameter name="component_list">startTx1;startRx1</ActionParameter>
                        <ActionParameter name="timeout">120000</ActionParameter>
                </Action>

                <Action name="StartConnection3Tx_cf1" type="StartConnection">
                        <ActionParameter name="conn_id">connection_tx_cf1</ActionParameter>
                </Action>

                <!-- Send messages third time -->
                <Action name="SendBytesMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msg1</ActionParameter>
                </Action>

                <Action name="SendMapMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msg1</ActionParameter>
                </Action>

                <Action name="SendObjMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msg1</ActionParameter>
                </Action>

                <Action name="SendStreamMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_strm_msg1</ActionParameter>
                </Action>

                <Action name="SendTxtMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msg1</ActionParameter>
                </Action>

                <Action name="SendEmptyBytesMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_bytes_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMapMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_map_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyObjectMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_obj_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyTextMessage3_prod_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msgEmpty</ActionParameter>
                </Action>

                <Action name="SendEmptyMessage_prod3_dest1" type="SendMessage">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_msgEmpty</ActionParameter>
                </Action>

                <Action name="CloseConnectionTx_cf1" type="CloseConnection">
                        <ActionParameter name="conn_id">connection_tx_cf1</ActionParameter>
                </Action>

        <!-- some funny behavior -->
                <Action name="SendTxtMessage3_prod_dest1_closed" type="SendMessage" rc="1" reason="CWLNC0011">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_txt_msg1</ActionParameter>
                </Action>

                <Action name="SendStreamMessage3_prod_dest1_closed" type="SendMessage" rc="1" reason="CWLNC0011">
                        <ActionParameter name="producer_id">producer1_dest1</ActionParameter>
                        <ActionParameter name="message_id">tx_strm_msg1</ActionParameter>
                </Action>

                <Action name="CreateProducer1Tx_dest1_closed" type="CreateProducer" rc="1" reason="CWLNC0009">
                        <ActionParameter name="structure_id">producer9_dest1</ActionParameter>
                        <ActionParameter name="dest_id">tx_dest1</ActionParameter>
                        <ActionParameter name="session_id">session1_tx_cf1</ActionParameter>
                </Action>

        </Action>

        <Action name="rmdr" type="CompositeAction">
                <!-- Reset this SyncDriver solution to clean up                                      any existing values that might conflict
                 -->
                <Action name="syncReset" type="SyncAction">
                        <ActionParameter name="request">reset</ActionParameter>
                </Action>

                <!-- Initialize the SyncDriver values -->
                <Action name="syncInit1" type="SyncAction">
                        <ActionParameter name="request">init</ActionParameter>
                        <ActionParameter name="condition">syncPoint</ActionParameter>
                </Action>

                <Action name="CreateRx_cf1" type="CreateConnectionFactory">
                        <ActionParameter name="structure_id">rx_cf1</ActionParameter>
                </Action>

                <Action name="SetPropsRx_cf1" type="FillIsmProps">
                        <ActionParameter name="structure_id">rx_cf1</ActionParameter>
                        <ActionParameter name="validateAll">true</ActionParameter>
                        <ActionParameter name="validateNoWarn">false</ActionParameter>
                        <include>../common/JMS_serverIPv6.xml</include>
                        <ImaProperty name="Port" value="16102" type="STRING"/>
                        <ImaProperty name="DisableMessageID" value="false" type="STRING"/>
                </Action>

                <!-- the ClientID came from an environment variable. -->
                <Action name="CreateConnectionRx_cf1" type="CreateConnection">
                        <ActionParameter name="structure_id">connection_rx_cf1</ActionParameter>
                        <ActionParameter name="factory_id">rx_cf1</ActionParameter>
                        <ActionParameter name="verifyID">MyTestClientID</ActionParameter>
                </Action>

                <Action name="CreateSession1Rx_conn_cf1" type="CreateSession">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session1_rx_cf1</ActionParameter>
                </Action>

                <Action name="CreateSession2Rx_conn_cf1" type="CreateSession">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session2_rx_cf1</ActionParameter>
                </Action>

                <Action name="CreateSession3Rx_conn_cf1" type="CreateSession">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                        <ActionParameter name="structure_id">session3_rx_cf1</ActionParameter>
                </Action>

                <Action name="CreateRx_dest1" type="CreateDestination">
                        <ActionParameter name="structure_id">rx_dest1</ActionParameter>
                        <ActionParameter name="type">topic</ActionParameter>
                        <ApiParameter name="name">subscription one</ApiParameter>
                </Action>

                <Action name="CreateRx_dest2" type="CreateDestination">
                        <ActionParameter name="structure_id">rx_dest2</ActionParameter>
                        <ActionParameter name="type">topic</ActionParameter>
                        <ApiParameter name="name">subscription</ApiParameter>
                </Action>

                <Action name="CreateConsumer1Rx_dest2" type="CreateConsumer">
                        <ActionParameter name="structure_id">consumer1_dest2</ActionParameter>
                        <ActionParameter name="dest_id">rx_dest2</ActionParameter>
                        <ActionParameter name="session_id">session3_rx_cf1</ActionParameter>
                </Action>

                <Action name="CreateConsumer1Rx_dest1" type="CreateConsumer">
                        <ActionParameter name="structure_id">consumer1_dest1</ActionParameter>
                        <ActionParameter name="dest_id">rx_dest1</ActionParameter>
                        <ActionParameter name="session_id">session1_rx_cf1</ActionParameter>
                </Action>

                <Action name="CreateConsumer2Rx_dest1" type="CreateConsumer">
                        <ActionParameter name="structure_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="dest_id">rx_dest1</ActionParameter>
                        <ActionParameter name="session_id">session2_rx_cf1</ActionParameter>
                </Action>

<!--
Currently for ISM, this needs to happen after
the message listener is set.  This is a bug.

                <Action name="StartConnectionRx_cf1" type="StartConnection">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                </Action>
-->

                <Action name="CreateMsgListener_consumer1" type="CreateMessageListener">
                        <ActionParameter name="structure_id">msg_listener_consumer1</ActionParameter>
                </Action>

                <Action name="SetMsgListener_consumer1" type="SetMessageListener">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="consumer_id">consumer1_dest1</ActionParameter>
                </Action>

                <Action name="StartConnectionRx_cf1" type="StartConnection">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                </Action>

                <Action name="sync_components_rx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">rx1</ActionParameter>
                        <ActionParameter name="component_list">tx1;rx1</ActionParameter>
                        <ActionParameter name="timeout">15000</ActionParameter>
                </Action>

                <Action name="RcvMessageFail" type="ReceiveMessage" thread="2" rc="1" reason="JMSTDNullMsg">
                        <dependsOn name="sync_components_rx1"/>
                        <ActionParameter name="consumer_id">consumer1_dest2</ActionParameter>
                        <ActionParameter name="structure_id">rxmsgFail</ActionParameter>
                        <ApiParameter name="timeout">3000</ApiParameter>
                </Action>

                <!-- CONSUMER 1: Receive messages -->
                <Action name="RcvBytesMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg1</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg1</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg1</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <!-- CONSUMER 1: Extract message content and verify it -->
                <Action name="ReadBytesMsg_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="WriteBytesMessage_consumer1" type="WriteBytesMessage" rc="1" reason="CWLNC0038">
                        <ActionParameter name="message_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ApiParameter name="value">BYTES: test content changed</ApiParameter>
                </Action>

                <Action name="GetMapItem1_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem2_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg1</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadStreamMsg_consumer1" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg1</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="GetMsgText_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg1</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmpty</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <!-- CONSUMER 2: Receive messages -->
                <Action name="RcvBytesMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">15000</ApiParameter>
                </Action>

                <!-- CONSUMER 2: Extract message content and verify it -->
                <Action name="ReadBytesMsg_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg2</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem1_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem2_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg2</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadStreamMsg_consumer2" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg2</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="GetMsgText_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg2</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmpty2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="StopConnection2Rx_cf1" type="StopConnection">
                        <dependsOn name="RcvMessageFail"/>
                        <dependsOn name="GetEmptyTextMsg_consumer2"/>
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                </Action>

                <Action name="sync_components_StopRx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">stopRx1</ActionParameter>
                        <ActionParameter name="component_list">stopTx1;stopRx1</ActionParameter>
                        <ActionParameter name="timeout">15000</ActionParameter>
                </Action>

                <!-- CONSUMER 1: Receive 2nd set of messages (expected to fail) -->
                <Action name="RcvBytesMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="timeout">2000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvObjMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg1</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg1</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg1</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage2_consumer1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <!-- CONSUMER 2: Receive 2nd set of messages (expected to fail) -->
                <Action name="RcvBytesMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvMapMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvObjMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage2_consumer2" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">500</ApiParameter>
                </Action>

                <Action name="sync_components_StartRx1" type="SyncComponentAction">
                        <ActionParameter name="component_name">startRx1</ActionParameter>
                        <ActionParameter name="component_list">startTx1;startRx1</ActionParameter>
                        <ActionParameter name="timeout">15000</ActionParameter>
                </Action>

                <Action name="StartConnection3Rx_cf1" type="StartConnection">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                </Action>

                <!-- CONSUMER 1: Receive 3rd set of messages (expected to SUCCEED) 
                     These are the 10 sent while connection is stopped -->
                <Action name="RcvBytesMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg1</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg1</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg1</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage3_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

		<!-- Consumer 1 receive the 10 messages sent after 
		     starting the connection again -->
                <Action name="RcvBytesMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg1b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg1b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg1b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg1b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg1b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmptyb</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmptyb</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmptyb</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmptyb</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage3b_consumer1" type="ReceiveMessage">
                        <ActionParameter name="listener_id">msg_listener_consumer1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmptyb</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <!-- CONSUMER 2: Receive 3rd set of messages (expected to SUCCEED) 
                     These are the 10 sent while the connection is stopped -->
                <Action name="RcvBytesMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage3_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

		<!-- Consumer 2: Receive the 10 messages sent after restarting
		     the connection -->
                <Action name="RcvBytesMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msg2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvMapMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msg2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvObjMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msg2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvStreamMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_strm_msg2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvTxtMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msg2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMapMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_map_msgEmpty2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyObjectMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_obj_msgEmpty2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyTextMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_txt_msgEmpty2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="RcvEmptyMessage3b_consumer2" type="ReceiveMessage">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_msgEmpty2b</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <!-- CONSUMER 1 (3rd set): Extract message content and verify it -->
                <Action name="ReadBytesMsg3_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg1</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem13_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem23_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg3_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg1</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadStreamMsg3_consumer1" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg1</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="GetMsgText3_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg1</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg3_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty3_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmpty</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg3_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg3_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmpty</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="ReadBytesMsg3b_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg1b</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem13b_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1b</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem23b_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg1b</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg3b_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg1b</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadStreamMsg3b_consumer1" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg1b</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="GetMsgText3b_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg1b</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg3b_consumer1" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmptyb</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty3b_consumer1" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmptyb</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg3b_consumer1" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmptyb</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg3b_consumer1" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmptyb</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <!-- CONSUMER 2 (3rd set): Extract message content and verify it -->
                <Action name="ReadBytesMsg3_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg2</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem13_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem23_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg3_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg2</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

        <!-- save this stream message for after we close the connection -->
                <!-- <Action name="ReadStreamMsg3_consumer2" type="ReadStreamMessage"> -->
                <!--    <ActionParameter name="message_id">rx_strm_msg2</ActionParameter> -->
                <!--    <ApiParameter name="valueType">String</ApiParameter> -->
                <!--    <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter> -->
                <!-- </Action> -->

                <Action name="GetMsgText3_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg2</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg3_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty3_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmpty2</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg3_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg3_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmpty2</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="ReadBytesMsg3b_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msg2b</ActionParameter>
                        <ApiParameter name="valueType">UTF8</ApiParameter>
                        <ActionParameter name="verifyValue">BYTES: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem13b_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2b</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent1</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 1</ActionParameter>
                </Action>

                <Action name="GetMapItem23b_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msg2b</ActionParameter>
                        <ApiParameter name="propertyName">MessageContent2</ApiParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">MAP: test content 2</ActionParameter>
                </Action>

                <Action name="GetObjMsg3b_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msg2b</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">OBJECT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadStreamMsg3b_consumer2" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg2b</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="GetMsgText3b_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg2b</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

                <Action name="ReadEmptyBytesMsg3b_consumer2" type="ReadBytesMessage">
                        <ActionParameter name="message_id">rx_bytes_msgEmpty2b</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetMapItemEmpty3b_consumer2" type="GetMessageMapItem">
                        <ActionParameter name="message_id">rx_map_msgEmpty2b</ActionParameter>
                        <ApiParameter name="propertyName">MessageContentEmpty</ApiParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyObjectMsg3b_consumer2" type="GetMessageObject">
                        <ActionParameter name="message_id">rx_obj_msgEmpty2b</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="GetEmptyTextMsg3b_consumer2" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msgEmpty2b</ActionParameter>
                        <ActionParameter name="verifyValue"></ActionParameter>
                </Action>

                <Action name="CloseConnectionRx_cf1" type="CloseConnection">
                        <ActionParameter name="conn_id">connection_rx_cf1</ActionParameter>
                </Action>


        <!-- some funny behavior now -->
                <Action name="ReadStreamMsg3_consumer2_closed" type="ReadStreamMessage">
                        <ActionParameter name="message_id">rx_strm_msg2</ActionParameter>
                        <ApiParameter name="valueType">String</ApiParameter>
                        <ActionParameter name="verifyValue">STREAM: test content 1</ActionParameter>
                </Action>

                <Action name="RcvEmptyBytesMessage3_consumer2_closed" type="ReceiveMessage" rc="1" reason="CWLNC0010">
                        <ActionParameter name="consumer_id">consumer2_dest1</ActionParameter>
                        <ActionParameter name="structure_id">rx_bytes_msgEmpty2</ActionParameter>
                        <ApiParameter name="timeout">5000</ApiParameter>
                </Action>

                <Action name="GetMsgText3_consumer2_closed" type="GetMessageText">
                        <ActionParameter name="message_id">rx_txt_msg2</ActionParameter>
                        <ActionParameter name="verifyValue">TEXT: test content 1</ActionParameter>
                </Action>

        </Action>
</LlmJmsTest>
