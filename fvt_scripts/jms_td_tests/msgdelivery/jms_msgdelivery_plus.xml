<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * Copyright (c) 2013-2021 Contributors to the Eclipse Foundation
 * 
 * See the NOTICE file(s) distributed with this work for additional
 * information regarding copyright ownership.
 * 
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0
 * 
 * SPDX-License-Identifier: EPL-2.0
 */
  TestCase Name: jms_msgdelivery_plus

  Test Category:  JMS Message Delivery
  
  Test Description:
	message 1
	This message is being sent to the topic: ++

	message 2
	This message is being sent to the topic: topic+

	message 3
	This message is being sent to the topic: topic++

	message 4
	This message is being sent to the topic: topic/++

	message 5
	This message is being sent to the topic: +topic

	message 6
	This message is being sent to the topic: /+topic

	message 7
	This message is being sent to the topic: top+ic

	consumer1:       +              receives message 1, 2, 3, 5, 7
	consumer2:       /+             receives message 6
	consumer3:       ++             receives message 1
	consumer4:       +/+            receives message 4, 6
	consumer5:       topic+         receives message 2
	consumer6:       topic/+        receives message 4
	consumer7:       topic++        receives mesage 3
	consumer8:       topic/++       receives message 4
	consumer9:       topic+/+       receives nothing
	consumer10:      topic/+/+      receves nothing
	consumer11:      +topic         receives message 5
	consumer12:      +/topic        receives nothing
	consumer13:      /+topic        receives message 6
	consumer14:      top+ic         receives receives message 7

*****************************************************************************/
-->
<LlmJmsTest name="jms_msgdelivery_plus" >
	<SyncClient>
		<server>
			<include>../common/JMS_syncip.xml</include>
			<include>../common/JMS_syncport.xml</include>
		</server>
		<solution>jms_msgdelivery_plus</solution>
	</SyncClient>
	
	<Action name="rmdr" type="CompositeAction">
		<!-- This side runs on machine 2! -->
		<!-- Reset this SyncDriver solution to clean up any existing values that might conflict -->
		<Action name="CreateFactory_RX" type="CreateConnectionFactory">
			<ActionParameter name="structure_id">CF1_Rx</ActionParameter>
		</Action>

		<Action name="CreateListener_RX" type="CreateExceptionListener">
			<ActionParameter name="structure_id">listener1</ActionParameter>
		</Action>

		<Action name="SetFactoryProps_RX" type="FillIsmProps">
			<ActionParameter name="structure_id">CF1_Rx</ActionParameter>
                        <ActionParameter name="validateAll">true</ActionParameter>
                        <ActionParameter name="validateNoWarn">false</ActionParameter>
                        <ImaProperty name="ClientID" value="rx_MDPLUS_clientid" type="STRING"/>
                        <include>../common/JMS_server.xml</include>
                        <ImaProperty name="Port" value="16102" type="STRING"/>
		</Action>

		<Action name="CreateConnection_RX" type="CreateConnection">
			<ActionParameter name="structure_id">Con1_Rx</ActionParameter>
		 	<ActionParameter name="factory_id">CF1_Rx</ActionParameter>
		 	<ApiParameter name="exceptionListener">listener1</ApiParameter>
		</Action>

		<Action name="CreateSession_RX" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses1_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX2" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses2_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX3" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses3_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX4" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses4_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX5" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses5_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX6" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses6_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX7" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses7_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX8" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses8_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX9" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses9_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX10" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses10_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX11" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses11_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX12" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses12_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX13" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses13_Rx</ActionParameter>
		</Action>

		<Action name="CreateSession_RX14" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
			<ActionParameter name="structure_id">Ses14_Rx</ActionParameter>
		</Action>

<!--

Add in tests for either:
	1. Allowing /topic+ to be a unique topic while /+ is considered a wildcard.
	2. Disallowing /topic+ as invalid wildcard usage.
	3. How would /topic+ translate to an MQTT topic???

-->

		<Action name="CreateDestination_RX" type="CreateDestination">
			<ApiParameter name="name">+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX1" type="CreateDestination">
			<ApiParameter name="name">/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX1</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX2" type="CreateDestination">
			<ApiParameter name="name">++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX2</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX3" type="CreateDestination">
			<ApiParameter name="name">+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX3</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX4" type="CreateDestination">
			<ApiParameter name="name">topic+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX4</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX5" type="CreateDestination">
			<ApiParameter name="name">topic/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX5</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX6" type="CreateDestination">
			<ApiParameter name="name">topic++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX6</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX7" type="CreateDestination">
			<ApiParameter name="name">topic/++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX7</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX8" type="CreateDestination">
			<ApiParameter name="name">topic+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX8</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX9" type="CreateDestination">
			<ApiParameter name="name">topic/+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX9</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX10" type="CreateDestination">
			<ApiParameter name="name">+topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX10</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX11" type="CreateDestination">
			<ApiParameter name="name">+/topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX11</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX12" type="CreateDestination">
			<ApiParameter name="name">/+topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX12</ActionParameter>
		</Action>

		<Action name="CreateDestination_RX13" type="CreateDestination">
			<ApiParameter name="name">top+ic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destRX13</ActionParameter>
		</Action>

		<Action name="CreateConsumer1" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer1</ActionParameter>
			<ActionParameter name="dest_id">destRX</ActionParameter>
			<ActionParameter name="session_id">Ses1_Rx</ActionParameter>
		</Action>
	
		<Action name="CreateConsumer2" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer2</ActionParameter>
			<ActionParameter name="dest_id">destRX1</ActionParameter>
			<ActionParameter name="session_id">Ses2_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer3" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer3</ActionParameter>
			<ActionParameter name="dest_id">destRX2</ActionParameter>
			<ActionParameter name="session_id">Ses3_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer4" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer4</ActionParameter>
			<ActionParameter name="dest_id">destRX3</ActionParameter>
			<ActionParameter name="session_id">Ses4_Rx</ActionParameter>
		</Action>
	
		<Action name="CreateConsumer5" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer5</ActionParameter>
			<ActionParameter name="dest_id">destRX4</ActionParameter>
			<ActionParameter name="session_id">Ses5_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer6" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer6</ActionParameter>
			<ActionParameter name="dest_id">destRX5</ActionParameter>
			<ActionParameter name="session_id">Ses6_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer7" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer7</ActionParameter>
			<ActionParameter name="dest_id">destRX6</ActionParameter>
			<ActionParameter name="session_id">Ses7_Rx</ActionParameter>
		</Action>
	
		<Action name="CreateConsumer8" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer8</ActionParameter>
			<ActionParameter name="dest_id">destRX7</ActionParameter>
			<ActionParameter name="session_id">Ses8_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer9" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer9</ActionParameter>
			<ActionParameter name="dest_id">destRX8</ActionParameter>
			<ActionParameter name="session_id">Ses9_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer10" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer10</ActionParameter>
			<ActionParameter name="dest_id">destRX9</ActionParameter>
			<ActionParameter name="session_id">Ses10_Rx</ActionParameter>
		</Action>
	
		<Action name="CreateConsumer11" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer11</ActionParameter>
			<ActionParameter name="dest_id">destRX10</ActionParameter>
			<ActionParameter name="session_id">Ses11_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer12" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer12</ActionParameter>
			<ActionParameter name="dest_id">destRX11</ActionParameter>
			<ActionParameter name="session_id">Ses12_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer13" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer13</ActionParameter>
			<ActionParameter name="dest_id">destRX12</ActionParameter>
			<ActionParameter name="session_id">Ses13_Rx</ActionParameter>
		</Action>

		<Action name="CreateConsumer14" type="CreateConsumer">
			<ActionParameter name="structure_id">consumer14</ActionParameter>
			<ActionParameter name="dest_id">destRX13</ActionParameter>
			<ActionParameter name="session_id">Ses14_Rx</ActionParameter>
		</Action>

		<Action name="StartConnection_RX1" type="StartConnection">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		</Action>
	
		<Action name="sync_components_RX" type="SyncComponentAction"> 
		        <ActionParameter name="component_name">rx1</ActionParameter>
		        <ActionParameter name="component_list">tx1;rx1</ActionParameter>
	        	<ActionParameter name="timeout">20000</ActionParameter>
	 	</Action>

		<Action name="ReceiveMessage1-1" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsg1c1</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage1-2" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsg2c1</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage1-3" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsg3c1</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage1-4" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsg4c1</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage1-5" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsg5c1</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage1" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer1</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage2" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer2</ActionParameter>
			<ActionParameter name="structure_id">rxmsg2</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage2Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer2</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage3" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer3</ActionParameter>
			<ActionParameter name="structure_id">rxmsg3</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage3Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer3</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage4-1" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer4</ActionParameter>
			<ActionParameter name="structure_id">rxmsg1c4</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage4-2" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer4</ActionParameter>
			<ActionParameter name="structure_id">rxmsg2c4</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage4Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer4</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage5" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer5</ActionParameter>
			<ActionParameter name="structure_id">rxmsg5</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage5Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer5</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage6" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer6</ActionParameter>
			<ActionParameter name="structure_id">rxmsg6</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage6Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer6</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage7" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer7</ActionParameter>
			<ActionParameter name="structure_id">rxms7</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage7Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer7</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage8" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer8</ActionParameter>
			<ActionParameter name="structure_id">rxmsg8</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage8Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer8</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage9" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer9</ActionParameter>
			<ActionParameter name="structure_id">rxmsg9</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage10" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer10</ActionParameter>
			<ActionParameter name="structure_id">rxmsg10</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage11" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer11</ActionParameter>
			<ActionParameter name="structure_id">rxmsg11</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage11Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer11</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage12" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer12</ActionParameter>
			<ActionParameter name="structure_id">rxmsg12</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage13" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer13</ActionParameter>
			<ActionParameter name="structure_id">rxmsg13</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage13Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer13</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage14" type="ReceiveMessage">
			<ActionParameter name="consumer_id">consumer14</ActionParameter>
			<ActionParameter name="structure_id">rxmsg14</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="ReceiveMessage14Fail" type="ReceiveMessage" rc="1" reason="JMSTDNullMsg">
			<ActionParameter name="consumer_id">consumer14</ActionParameter>
			<ActionParameter name="structure_id">rxmsgfail</ActionParameter>
			<ApiParameter name="timeout">1500</ApiParameter>
		</Action>

		<Action name="StopConnection_RX1" type="StopConnection">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		</Action>

		<Action name="CloseConnection_RX1" type="CloseConnection">
			<ActionParameter name="conn_id">Con1_Rx</ActionParameter>
		</Action>

	</Action>
  
	<Action name="rmdt" type="CompositeAction">
		<!-- This side runs on machine 1! -->
		<Action name="CreateFactory_TX" type="CreateConnectionFactory">
			<ActionParameter name="structure_id">CF1_Tx</ActionParameter>
		</Action>

		<Action name="CreateListener_TX" type="CreateExceptionListener">
			<ActionParameter name="structure_id">listener1</ActionParameter>
		</Action>

		<Action name="SetFactoryProps_TX" type="FillIsmProps">
			<ActionParameter name="structure_id">CF1_Tx</ActionParameter>
                        <ActionParameter name="validateAll">true</ActionParameter>
                        <ActionParameter name="validateNoWarn">false</ActionParameter>
                        <ImaProperty name="ClientID" value="tx_MDPLUS_clientid" type="STRING"/>
                        <include>../common/JMS_server.xml</include>
                        <ImaProperty name="Port" value="16102" type="STRING"/>
		</Action>

		<Action name="CreateConnection_TX" type="CreateConnection">
			<ActionParameter name="structure_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="factory_id">CF1_Tx</ActionParameter>
		 	<ApiParameter name="exceptionListener">listener1</ApiParameter>
		</Action>

		<Action name="CreateSessionFail_TX" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">SesFail_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX1" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses1_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX2" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses2_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX3" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses3_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX4" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses4_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX5" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses5_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX6" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses6_Tx</ActionParameter>
		</Action>

		<Action name="CreateSession_TX7" type="CreateSession">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		 	<ActionParameter name="structure_id">Ses7_Tx</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX" type="CreateDestination">
			<ApiParameter name="name">+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX1" type="CreateDestination">
			<ApiParameter name="name">/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX1</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX2" type="CreateDestination">
			<ApiParameter name="name">++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX2</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX3" type="CreateDestination">
			<ApiParameter name="name">+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX3</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX4" type="CreateDestination">
			<ApiParameter name="name">topic+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX4</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX5" type="CreateDestination">
			<ApiParameter name="name">topic/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX5</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX6" type="CreateDestination">
			<ApiParameter name="name">topic++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX6</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX7" type="CreateDestination">
			<ApiParameter name="name">topic/++</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX7</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX8" type="CreateDestination">
			<ApiParameter name="name">topic+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX8</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX9" type="CreateDestination">
			<ApiParameter name="name">topic/+/+</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX9</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX10" type="CreateDestination">
			<ApiParameter name="name">+topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX10</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX11" type="CreateDestination">
			<ApiParameter name="name">+/topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX11</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX12" type="CreateDestination">
			<ApiParameter name="name">/+topic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX12</ActionParameter>
		</Action>

		<Action name="CreateDestination_TX13" type="CreateDestination">
			<ApiParameter name="name">top+ic</ApiParameter>
			<ActionParameter name="type">topic</ActionParameter>
		 	<ActionParameter name="structure_id">destTX13</ActionParameter>
		</Action>

		<Action name="CreateProducerFail" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail1" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX1</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail2" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX3</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail3" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX5</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail4" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX8</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail5" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX9</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducerFail6" type="CreateProducer" rc="1" reason="CWLNC0217">
			<ActionParameter name="structure_id">producerFail</ActionParameter>
			<ActionParameter name="dest_id">destTX11</ActionParameter>
			<ActionParameter name="session_id">SesFail_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateProducer1" type="CreateProducer">
			<ActionParameter name="structure_id">producer1</ActionParameter>
			<ActionParameter name="dest_id">destTX2</ActionParameter>
			<ActionParameter name="session_id">Ses1_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer2" type="CreateProducer">
			<ActionParameter name="structure_id">producer2</ActionParameter>
			<ActionParameter name="dest_id">destTX4</ActionParameter>
			<ActionParameter name="session_id">Ses2_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer3" type="CreateProducer">
			<ActionParameter name="structure_id">producer3</ActionParameter>
			<ActionParameter name="dest_id">destTX6</ActionParameter>
			<ActionParameter name="session_id">Ses3_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer4" type="CreateProducer">
			<ActionParameter name="structure_id">producer4</ActionParameter>
			<ActionParameter name="dest_id">destTX7</ActionParameter>
			<ActionParameter name="session_id">Ses4_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer5" type="CreateProducer">
			<ActionParameter name="structure_id">producer5</ActionParameter>
			<ActionParameter name="dest_id">destTX10</ActionParameter>
			<ActionParameter name="session_id">Ses5_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer6" type="CreateProducer">
			<ActionParameter name="structure_id">producer6</ActionParameter>
			<ActionParameter name="dest_id">destTX12</ActionParameter>
			<ActionParameter name="session_id">Ses6_Tx</ActionParameter>
		</Action>
		
		<Action name="CreateProducer7" type="CreateProducer">
			<ActionParameter name="structure_id">producer7</ActionParameter>
			<ActionParameter name="dest_id">destTX13</ActionParameter>
			<ActionParameter name="session_id">Ses7_Tx</ActionParameter>
		</Action>
		
		<Action name="StartConnection_TX" type="StartConnection">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		</Action>
	
		<Action name="CreateMessage1" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg1</ActionParameter>
			<ActionParameter name="session_id">Ses1_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: ++</ApiParameter>
		</Action>

		<Action name="CreateMessage2" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg2</ActionParameter>
			<ActionParameter name="session_id">Ses2_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: topic+</ApiParameter>
		</Action>

		<Action name="CreateMessage3" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg3</ActionParameter>
			<ActionParameter name="session_id">Ses3_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: topic++</ApiParameter>
		</Action>

		<Action name="CreateMessage4" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg4</ActionParameter>
			<ActionParameter name="session_id">Ses4_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: topic/++</ApiParameter>
		</Action>

		<Action name="CreateMessage5" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg5</ActionParameter>
			<ActionParameter name="session_id">Ses5_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: +topic</ApiParameter>
		</Action>

		<Action name="CreateMessage6" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg6</ActionParameter>
			<ActionParameter name="session_id">Ses6_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: /+topic</ApiParameter>
		</Action>

		<Action name="CreateMessage7" type="CreateMessage">
			<ActionParameter name="structure_id">txmsg7</ActionParameter>
			<ActionParameter name="session_id">Ses7_Tx</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="msgParam">This message is being sent to the topic: top+ic</ApiParameter>
		</Action>
		
		<Action name="sync_components_TX1" type="SyncComponentAction"> 
			<ActionParameter name="component_name">tx1</ActionParameter>
			<ActionParameter name="component_list">tx1;rx1</ActionParameter>
			<ActionParameter name="timeout">20000</ActionParameter>
		</Action>
		

		<Action name="CompositeSnd" type="CompositeAction" interval="0"> 
			<Action name="SendMessage1" type="SendMessage">
				<ActionParameter name="producer_id">producer1</ActionParameter>
				<ActionParameter name="message_id">txmsg1</ActionParameter>
			</Action>

			<Action name="SendMessage2" type="SendMessage">
				<dependsOn name="SendMessage1" interval="0"/>
				<ActionParameter name="producer_id">producer2</ActionParameter>
				<ActionParameter name="message_id">txmsg2</ActionParameter>
			</Action>

			<Action name="SendMessage3" type="SendMessage">
				<dependsOn name="SendMessage2" interval="0"/>
				<ActionParameter name="producer_id">producer3</ActionParameter>
				<ActionParameter name="message_id">txmsg3</ActionParameter>
			</Action>

			<Action name="SendMessage4" type="SendMessage">
				<dependsOn name="SendMessage3" interval="0"/>
				<ActionParameter name="producer_id">producer4</ActionParameter>
				<ActionParameter name="message_id">txmsg4</ActionParameter>
			</Action>

			<Action name="SendMessage5" type="SendMessage">
				<dependsOn name="SendMessage4" interval="0"/>
				<ActionParameter name="producer_id">producer5</ActionParameter>
				<ActionParameter name="message_id">txmsg5</ActionParameter>
			</Action>

			<Action name="SendMessage6" type="SendMessage">
				<dependsOn name="SendMessage5" interval="0"/>
				<ActionParameter name="producer_id">producer6</ActionParameter>
				<ActionParameter name="message_id">txmsg6</ActionParameter>
			</Action>

			<Action name="SendMessage7" type="SendMessage">
				<dependsOn name="SendMessage6" interval="0"/>
				<ActionParameter name="producer_id">producer7</ActionParameter>
				<ActionParameter name="message_id">txmsg7</ActionParameter>
			</Action>
		</Action>

		<Action name="StopConnection_TX" type="StopConnection">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		</Action>

		<Action name="CloseConnection_TX" type="CloseConnection">
			<ActionParameter name="conn_id">Con1_Tx</ActionParameter>
		</Action>
	</Action>
</LlmJmsTest>
