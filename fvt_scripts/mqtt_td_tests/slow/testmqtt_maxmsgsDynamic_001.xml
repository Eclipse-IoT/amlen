<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * Copyright (c) 2013-2021 Contributors to the Eclipse Foundation
 * 
 * See the NOTICE file(s) distributed with this work for additional
 * information regarding copyright ownership.
 * 
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0
 * 
 * SPDX-License-Identifier: EPL-2.0
 */
   TestCase Name: testmqtt_maxmsgsDynamic_001

  Test Category: MessageExpiration
  
  Test Description: 
  
  Modify MaxMessages and MaxMessageBehavior on policies and verify that subscriptions using those policies
  are updated dynamically, AND that their behavior is also correct after they are updated. 
  
  This test verifies that the engine correctly and dynamically updates all types of internal subscriptions (SimpQ, IntermediateQ and
  MultiQ) when policies are changed. 
  
  It also verifies that the correct Policy is used for the updates for Global-Shared Durable Subscriptions. The values used for a Global-
  shared durable Subscription come from the SubscriptionPolicy that was used to originally create the 
  Subscription. 
  
  
  
-->
		
<IsmWSTest name="testmqtt_maxmsgsDynamic_001">

	<SyncClient>
		<server>
			<include>../common/JMS_syncip.xml</include>
			<include>../common/JMS_syncport.xml</include>
		</server>
		<solution>mqtt_maxmsgsDynamic_001</solution>
	</SyncClient>
 
	<Action name="ds_setup" type="CompositeAction">
	
	     <!-- QoS=0 , which uses simpQ in the engine -->
  		
		<Action name="CreateSubConnection_QoS_0_Clear" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_0</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_0</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_0</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
		    <ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">true</ApiParameter>
			<ApiParameter name="QoS">0</ApiParameter>
  		</Action> 
  		
	    <Action name="CloseConnection_QoS_0_Clear" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_0</ActionParameter>
	    </Action>	
	    
	    <!-- Create a QoS=0 durable subscriptions --> 
		<Action name="CreateSubConnection_QoS_0" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_0</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_0</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_0</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">false</ApiParameter>
			<ApiParameter name="QoS">0</ApiParameter>
  		</Action>    
  		
		<Action name="Subscribe_QoS_0" type="Subscribe">
			<ActionParameter name="connection_id">Con_QoS_0</ActionParameter>
			<ApiParameter name="topic">/MQTT/Dynamic/+</ApiParameter>
			<ApiParameter name="QoS">0</ApiParameter>
		</Action>
		
	    <Action name="CloseConnection_QoS_0" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_0</ActionParameter>
	    </Action>	
	    
	    
	     <!-- QoS=1, which uses intermediateQ in the engine -->
	      		 		
	     <Action name="CreateSubConnection_QoS_1_Clear" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_1</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_1</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">true</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action> 
  		
	    <Action name="CloseConnection_QoS_1_Clear" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_1</ActionParameter>
	    </Action>	
	    
	    <!-- Create a QoS=1 durable subscriptions --> 
		<Action name="CreateSubConnection_QoS_1" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_1</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_1</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">false</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action>    
  		
		<Action name="Subscribe_QoS_1" type="Subscribe">
			<ActionParameter name="connection_id">Con_QoS_1</ActionParameter>
			<ApiParameter name="topic">/MQTT/Dynamic/+</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
		</Action>
		
	    <Action name="CloseConnection_QoS_1" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_1</ActionParameter>
	    </Action>	  		 

	     <!-- QoS=2 , which uses intermediateQ in the engine -->
	      		 		
	     <Action name="CreateSubConnection_QoS_2_Clear" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_2</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_2</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_2</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">true</ApiParameter>
			<ApiParameter name="QoS">2</ApiParameter>
  		</Action> 
  		
	    <Action name="CloseConnection_QoS_2_Clear" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_2</ActionParameter>
	    </Action>	
	    
	    <!-- Create a QoS=2 durable subscription --> 
		<Action name="CreateSubConnection_QoS_2" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_2</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_2</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_2</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_NS</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">false</ApiParameter>
			<ApiParameter name="QoS">2</ApiParameter>
  		</Action>    
  		
		<Action name="Subscribe_QoS_2" type="Subscribe">
			<ActionParameter name="connection_id">Con_QoS_2</ActionParameter>
			<ApiParameter name="topic">/MQTT/Dynamic/+</ApiParameter>
			<ApiParameter name="QoS">2</ApiParameter>
		</Action>
		
	    <Action name="CloseConnection_QoS_2" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_2</ActionParameter>
	    </Action>	 
			
	     <!-- QoS=1, SharedSubscriptions which uses multiuserQ in the engine -->
	      		 		
	     <Action name="CreateSubConnection_QoS_1Shared_Clear" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_1S</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_1S</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_1S</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_1Sa</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">true</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action> 
  		
	    <Action name="CloseConnection_QoS_1Shared_Clear" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_1S</ActionParameter>
	    </Action>	
	    
	     <!-- QoS=1, SharedSubscriptions which uses multiuserQ in the engine -->
	      		 		
	     <Action name="CreateSubConnection_QoS_1Shared_Clear2" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_2S</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_2S</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_2S</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_1Sb</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">true</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action> 
  		
	    <Action name="CloseConnection_QoS_1Shared_Clear2" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_2S</ActionParameter>
	    </Action>		    
	    
	    <!-- Create a QoS=1 shared durable subscription which uses multiQ --> 
		<Action name="CreateSubConnection_QoS_1Shared" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_1S</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_1S</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_1S</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_1Sa</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">false</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action>    
  		
		<Action name="Subscribe_QoS_1Shared" type="Subscribe">
			<ActionParameter name="connection_id">Con_QoS_1S</ActionParameter>
			<ApiParameter name="topic">$SharedSubscription/MQTTDDynamic_001//MQTT/Dynamic/msg1</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
		</Action>
		
	    <Action name="CloseConnection_QoS_1Shared" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_1S</ActionParameter>
	    </Action>
	    	        		
	    <!-- Join a QoS=1 shared durable subscription which uses multiQ --> 
		<Action name="CreateSubConnection_QoS_2Shared" type="CreateConnection" >
			<ActionParameter name="structure_id">Cons_QoS_2S</ActionParameter>
			<ActionParameter name="connection_id">Con_QoS_2S</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_01_Cons_QoS_2S</ApiParameter>
			<ApiParameter name="port">20021</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="user">MQTTDynamic_1Sb</ApiParameter>
      		<ApiParameter name="password">dynamic</ApiParameter>
			<!-- ApiParameter name="path">config.ism.ibm.com</ApiParameter -->
			<ApiParameter name="cleanSession">false</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
  		</Action>    
  		
		<Action name="Subscribe_QoS_2Shared" type="Subscribe">
			<ActionParameter name="connection_id">Con_QoS_2S</ActionParameter>
			<ApiParameter name="topic">$SharedSubscription/MQTTDDynamic_001//MQTT/Dynamic/msg1</ApiParameter>
			<ApiParameter name="QoS">1</ApiParameter>
		</Action>
		
	    <Action name="CloseConnection_QoS_2Shared" type="CloseConnection">
	   	    <ActionParameter name="connection_id">Con_QoS_2S</ActionParameter>
	    </Action>	    	        
	    	         
		<!-- signal durable subscriptions are ready --> 
    	<Action name="SyncMQTT_DS_Ready" type="SyncAction">
            <ActionParameter name="request">set</ActionParameter>
            <ActionParameter name="condition">MQTT_DS_Ready</ActionParameter>
            <ActionParameter name="value">1</ActionParameter>
        </Action>

		
	 </Action>  
	 
 
	<Action name="Pubs" type="CompositeAction">
 
		<Action name="CreatePubConnection1" type="CreateConnection" >
			<ActionParameter name="structure_id">ConPub1</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_001_Pub1</ApiParameter>
			<ApiParameter name="port">16102</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="path">config.ism.ibm.com</ApiParameter>
			<ApiParameter name="cleanSession">true</ApiParameter>
		</Action>

		<Action name="UpdateWrongShared_to_Discard" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"SubscriptionPolicy":{"MQTTMMSSubPolicyDynamic2":{"MaxMessagesBehavior":"DiscardOldMessages"}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 		
		
		<!-- Updates to this policy should be ignored, since values for the global-shared subscription should come from the 
			SubscriptionPolicy --> 
		<Action name="UpdateWrong_Topic_POLICY_to_MM10_Reject" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"TopicPolicy":{"MQTTMMMessagingPolicyDyn2":{"MaxMessagesBehavior":"RejectNewMessages","MaxMessages":10}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 			

		<Action name="CreateMessage1" type="CreateMessage" >
			<ActionParameter name="structure_id">msg1</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="payload">TEXT: message type 1 from testmqtt_maxmsgsDynamic_001: </ApiParameter>
			<ActionParameter name="incrementing">true</ActionParameter>
		</Action>
		
		<Action name="CreateMessage2" type="CreateMessage" >
			<ActionParameter name="structure_id">msg2</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ApiParameter name="msgType">TEXT</ApiParameter>
			<ApiParameter name="payload">TEXT: message type 2 from testmqtt_maxmsgsDynamic_001: </ApiParameter>
			<ActionParameter name="incrementing">true</ActionParameter>
		</Action>
	
		<!-- signal durable subscriptions are ready --> 
    	<Action name="SyncMQTT_DS_Ready" type="SyncAction">
    		<dependsOn action_id="CreateMessage1"/>
			<dependsOn action_id="CreateMessage2"/>
            <ActionParameter name="request">wait</ActionParameter>
            <ActionParameter name="condition">MQTT_DS_Ready</ActionParameter>
            <ActionParameter name="value">1</ActionParameter>
            <ActionParameter name="timeout">20000</ActionParameter>
        </Action>
  
		<Action name="SendMessage_1" type="SendMessage" interval="0" repeat="57"  repeat_interval="0">
	 	  	<dependsOn action_id="SyncMQTT_DS_Ready" interval="0" />
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg1</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg1</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
		</Action>
		
		<!-- This fails, since the SharedSubscriptions MaxMessages is 57, and its full with 57. -->
		<Action name="SendMessage_1Fail" type="SendMessage" interval="0" rc="1" reason="ISMTEST2509" >
	 	  	<dependsOn action_id="SyncMQTT_DS_Ready" interval="0" />
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg1</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg1</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
			<ActionParameter name="waitTime">1000</ActionParameter>
		</Action>		
		
		<Action name="CheckConnection_after_1st_Reject" type="CheckConnection">
			<dependsOn action_id="SendMessage_1Fail" interval="500" />
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="isConnected">false</ActionParameter>
		</Action>
		
		<Action name="ReCreatePubConnection1" type="CreateConnection" >
			<ActionParameter name="structure_id">ConPub1</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_001_Pub1</ApiParameter>
			<ApiParameter name="port">16102</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="path">config.ism.ibm.com</ApiParameter>
			<ApiParameter name="cleanSession">true</ApiParameter>
		</Action>		

		<!-- This fills the non-shared Subscriptions where maxMessages is 58 and then causes a reject -->
		<Action name="SendMessage_2" type="SendMessage" interval="0">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg2</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg2</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
			<ActionParameter name="waitTime">1000</ActionParameter>
		</Action>
		
		<!-- This fills the non-shared Subscriptions where maxMessages is 58 and then causes a reject -->
		<Action name="SendMessage_2Fail" type="SendMessage" interval="0" rc="1" reason="ISMTEST2509" >
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg2</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg2</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
			<ActionParameter name="waitTime">1500</ActionParameter>
		</Action>		
		
		<Action name="CheckConnection_after_2nd_Reject" type="CheckConnection">
			<dependsOn action_id="SendMessage_2" interval="500" />
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="isConnected">false</ActionParameter>
		</Action>
				
	   	<!-- Action name="ShowSubScriptions_after_1st_reject" type="ShellAction" >
			<ActionParameter name="command">ssh ``A1_USER``@``A1_HOST`` imaserver stat Subscription TopicString=/MQTT/Dynamic/* </ActionParameter>
			<ActionParameter name="print_result">true</ActionParameter>
		</Action -->	
		
	<Action name="ShowSubScriptions_after_1st_reject" type="RestAPI">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Subscription?TopicString=/MQTT/Dynamic/*</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>

    <Action name="compareREST_0a" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_0</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="58"/>
        <ObjectProperty name="BufferedMsgsHWM" value="58"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="58"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
        <ObjectProperty name="MessagingPolicy" value="MQTTMMMessagingPolicyDyn1"/>
    </Action>	
    
    <Action name="compareREST_1a" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_1</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="58"/>
        <ObjectProperty name="BufferedMsgsHWM" value="58"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="58"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
        <ObjectProperty name="MessagingPolicy" value="MQTTMMMessagingPolicyDyn1"/>
    </Action>		
    
    <Action name="compareREST_2a" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_2</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="58"/>
        <ObjectProperty name="BufferedMsgsHWM" value="58"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="58"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
        <ObjectProperty name="MessagingPolicy" value="MQTTMMMessagingPolicyDyn1"/>
    </Action>
    
    <Action name="compareREST_DSa" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">MQTTDDynamic_001</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="57"/>
        <ObjectProperty name="BufferedMsgsHWM" value="57"/>
        <ObjectProperty name="MaxMessages" value="57"/>
        <ObjectProperty name="PublishedMsgs" value="57"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
        <ObjectProperty name="MessagingPolicy" value="MQTTMMSSubPolicyDynamic1"/>
    </Action>															
		
		<Action name="UpdateNonShared_to_Discard" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"TopicPolicy":{"MQTTMMMessagingPolicyDyn1":{"MaxMessagesBehavior":"DiscardOldMessages"}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 						
	
		<Action name="ReCreatePubConnection2" type="CreateConnection" >
			<ActionParameter name="structure_id">ConPub1</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_001_Pub1</ApiParameter>
			<ApiParameter name="port">16102</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="path">config.ism.ibm.com</ApiParameter>
			<ApiParameter name="cleanSession">true</ApiParameter>
		</Action>		

		<!-- This should work since we now discard -->
		<Action name="SendMessage_2b" type="SendMessage" interval="0" repeat="10" repeat_interval="0">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg2</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg2</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
		</Action>

		<Action name="CheckConnection_after_Discard" type="CheckConnection">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="isConnected">true</ActionParameter>
		</Action>	

	<Action name="ShowSubScriptions__before_non_shared_discards_And_Shared_rejects" type="RestAPI">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Subscription?TopicString=/MQTT/Dynamic/*</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>

    <Action name="compareREST_0b" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_0</ActionParameter>
        <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
     </Action>	
    
    <Action name="compareREST_1b" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_1</ActionParameter>
         <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
    </Action>		
    
    <Action name="compareREST_2b" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_2</ActionParameter>
         <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
    </Action>
    
    <Action name="compareREST_DSb" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">MQTTDDynamic_001</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="57"/>
        <ObjectProperty name="BufferedMsgsHWM" value="57"/>
        <ObjectProperty name="MaxMessages" value="57"/>
        <ObjectProperty name="PublishedMsgs" value="57"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
   </Action>			
		
		<!-- This should fail since it cannot publish to the shared subscription -->
		<Action name="SendMessage_1bFail" type="SendMessage" interval="0" repeat_interval="0" rc="1" reason="ISMTEST2509">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg1</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg1</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
			<ActionParameter name="waitTime">1500</ActionParameter>
		</Action>	
		
	<Action name="ShowSubScriptions_non_shared_discards_And_Shared_rejects" type="RestAPI">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Subscription?TopicString=/MQTT/Dynamic/*</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>

    <Action name="compareREST_0c" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_0</ActionParameter>
        <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
     </Action>	
    
    <Action name="compareREST_1c" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_1</ActionParameter>
         <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
    </Action>		
    
    <Action name="compareREST_2c" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_2</ActionParameter>
         <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="68"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
    </Action>
    
    <Action name="compareREST_DSc" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">MQTTDDynamic_001</ActionParameter>
        <ObjectProperty name="BufferedMsgs" value="57"/>
        <ObjectProperty name="BufferedMsgsHWM" value="57"/>
        <ObjectProperty name="MaxMessages" value="57"/>
        <ObjectProperty name="PublishedMsgs" value="57"/>
        <ObjectProperty name="RejectedMsgs" value="2"/>
        <ObjectProperty name="DiscardedMsgs" value="0"/>
   </Action>					
		
		<Action name="CheckConnection_after_3rd_Reject" type="CheckConnection">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="isConnected">false</ActionParameter>
		</Action>	

		<Action name="ReCreatePubConnection3" type="CreateConnection" >
			<ActionParameter name="structure_id">ConPub1</ActionParameter>
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<include>../common/ConnectionType.xml</include>
			<include>../common/MQTT_server.xml</include>
			<ApiParameter name="clientId">MMD_001_Pub1</ApiParameter>
			<ApiParameter name="port">16102</ApiParameter>
			<ApiParameter name="protocol">mqtt</ApiParameter>
			<ApiParameter name="path">config.ism.ibm.com</ApiParameter>
			<ApiParameter name="cleanSession">true</ApiParameter>
		</Action>					

		<Action name="UpdateShared_to_Discard" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"SubscriptionPolicy":{"MQTTMMSSubPolicyDynamic1":{"MaxMessagesBehavior":"DiscardOldMessages"}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 				
						
	<!-- This should work since we now discard on Shared -->
		<Action name="SendMessage_1b" type="SendMessage" interval="0" repeat="10">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg1</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg1</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
			<ActionParameter name="waitForAck">true</ActionParameter>
		</Action>		
					
		<!-- seems to take a moment for stats to get updated on systems using disk persistence. --> 					
	<Action name="ShowSubScriptions_All_Discards" type="RestAPI">
		<dependsOn action_id="SendMessage_1b" interval="1500" />
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Subscription?TopicString=/MQTT/Dynamic/*</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>

    <Action name="compareREST_0d" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_0</ActionParameter>
        <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="78"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-2][0-9]+"/>
     </Action>	
    
    <Action name="compareREST_1d" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_1</ActionParameter>
         <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="78"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-2][0-9]+"/>
    </Action>		
    
    <Action name="compareREST_2d" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">/MQTT/Dynamic/+</ActionParameter>
        <ActionParameter name="subObjectKeyB">ClientID</ActionParameter>
        <ActionParameter name="subObjectNameB">MMD_01_Cons_QoS_2</ActionParameter>
        <ObjectProperty name="BufferedMsgsHWM" value="59"/>
        <ObjectProperty name="MaxMessages" value="58"/>
        <ObjectProperty name="PublishedMsgs" value="78"/>
        <ObjectProperty name="RejectedMsgs" value="1"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-2][0-9]+"/>
    </Action>
    
    <Action name="compareREST_DSd" type="CompareREST">
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="topLevelKey">Subscription</ActionParameter>
        <ActionParameter name="subObjectKey">SubName</ActionParameter>
        <ActionParameter name="subObjectName">MQTTDDynamic_001</ActionParameter>
        <ObjectProperty name="BufferedMsgsHWM" value="58"/>
        <ObjectProperty name="MaxMessages" value="57"/>
        <ObjectProperty name="PublishedMsgs" value="67"/>
        <ObjectProperty name="RejectedMsgs" value="2"/>
        <ObjectProperty name="DiscardedMsgs" value="REGEXP: [1-9][0-9]+"/>
   </Action>								
		
		<Action name="CheckConnection_after_2nd_Discard" type="CheckConnection">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="isConnected">true</ActionParameter>
		</Action>	

		<Action name="UpdateShared_BothParms" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"SubscriptionPolicy":{"MQTTMMSSubPolicyDynamic1":{"MaxMessagesBehavior":"RejectNewMessages","MaxMessages":5000}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 		  		

		<Action name="UpdateNonShared_BothParms" type="RestAPI">
	        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
	        <ActionParameter name="path">/ima/v1/configuration</ActionParameter>
	        <ActionParameter name="action">POST</ActionParameter>
	        <ActionParameter name="payload">{"TopicPolicy":{"MQTTMMMessagingPolicyDyn1":{"MaxMessagesBehavior":"RejectNewMessages","MaxMessages":5000}}}</ActionParameter>
	        <ActionParameter name="printResult">true</ActionParameter>
	        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
	        <ActionParameter name="expectedMessageCode"></ActionParameter>
	    </Action> 		  						
	
	<!-- This should work since we have lots of space in the queues. Fill it as prep for next test.  -->
		<Action name="SendMessage_FillUp" type="SendMessage" interval="0" repeat="500" repeat_interval="0">
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
			<ActionParameter name="message_id">msg1</ActionParameter>
			<ActionParameter name="topic">/MQTT/Dynamic/msg1</ActionParameter>
			<ActionParameter name="QoS">1</ActionParameter>
		</Action>		
		
		<Action name="ClosePubConnection1_Clear" type="CloseConnection"  >
			<ActionParameter name="connection_id">CFPub1</ActionParameter>
  		</Action>
	
	<Action name="ShowSubsAtEnd" type="RestAPI">
		<dependsOn action_id="SendMessage_1b" interval="1500" />
        <ActionParameter name="structureID">stat_output_1R</ActionParameter>
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Subscription?TopicString=/MQTT/Dynamic/*</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>
					
	<Action name="restStatImaserver" type="RestAPI">
        <ActionParameter name="server">``A1_HOST``:``A1_PORT``</ActionParameter>
        <ActionParameter name="path">/ima/v1/monitor/Server</ActionParameter>
        <ActionParameter name="action">GET</ActionParameter>
        <ActionParameter name="payload"></ActionParameter>
        <ActionParameter name="printResult">true</ActionParameter>
        <ActionParameter name="expectedStatusCode">-1</ActionParameter>
        <ActionParameter name="expectedMessageCode"></ActionParameter>
    </Action>				

	</Action> 	 
	 
</IsmWSTest>   

