<div>
	<div style='width: 600px;' data-dojo-type='ism.widgets.Dialog' data-dojo-attach-point='dialog'
		data-dojo-props='title: "${dialogTitle}", 
		    instruction: "${dialogInstr}",
			autofocus: false,
            onEnter: function() {
				if(!dijit.byId("${dialogId}_saveButton").get("disabled")) {
					dojo.publish("${dialogId}_saveButton", ""); 
				} 
			},  
			closeButtonLabel: "${nls.messaging.sslkeyrepository.dialog.cancelButton}",
			buttons: [ new dijit.form.Button({ 
				label: "${nls.messaging.sslkeyrepository.dialog.saveButton}",
				id: "${dialogId}_saveButton",
				onClick: function() { dojo.publish("${dialogId}_saveButton", ""); }
			}) ]'>

		<form id="${dialogId}_form" method="post" action="${uploadAction}"
			data-dojo-type="dijit.form.Form" enctype="multipart/form-data">

			<table role="presentation">
				<tr>
					<td style="width:410px">
						<div data-dojo-type='ism.widgets.TextBox' data-dojo-attach-point='field_keyFile'
							data-dojo-props='fieldWidth: "220px", 
							label: "${keyFileLabel}",
							required: true,
							readOnly: true,
							hint: "${browseHint}",
							hintPosition: "inside",
							labelAlignment: "horizontal",
							labelWidth: "150"'></div>
					</td>
					<td>
		                <div style="vertical-align:top; display: inline-block;">                
		                    <input class="browseButton" type="file" name="keyFile" value="" id="${dialogId}_keyFileUploader" style="display:none"
		                        data-dojo-attach-point="keyFile" data-dojo-attach-event="onChange:keyFileChanged" />
		                    <button id="${dialogId}_keyFileUploaderButton" data-dojo-type="dijit.form.Button" class="browseButton" tabindex="0"
		                        data-dojo-attach-event="onClick:clickKeyFileBrowseButton">${browseButton}</button>
		                        
		                </div>
					</td>
				</tr>
				<tr>
					<td>
						<div data-dojo-type='ism.widgets.TextBox' data-dojo-attach-point='field_passwordFile'
							data-dojo-props='fieldWidth: "220px", 
							label: "${passwordFileLabel}",
							required: true,
							readOnly: true,
							hint: "${browseHint}",
							hintPosition: "inside",
							labelAlignment: "horizontal",
							labelWidth: "150"'></div>
					</td>
					<td>
		                <div style="vertical-align:top; display: inline-block;">                
		                    <input class="browseButton" type="file" name="passwordFile" value="" id="${dialogId}_passwordFileUploader" style="display:none"
		                        data-dojo-attach-point="passwordFile" data-dojo-attach-event="onChange:passwordFileChanged" />
		                    <button id="${dialogId}_passwordFileUploaderButton" data-dojo-type="dijit.form.Button" class="browseButton" tabindex="0"
		                        data-dojo-attach-event="onClick:clickPasswordFileBrowseButton">${browseButton}</button>
		                        
		                </div>
					</td>
				</tr>
			</table>
		</form>
	</div>
</div>

